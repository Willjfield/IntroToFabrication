(function(b){var a=function(){};a.prototype.build=function(d,c){return this.interpolate(d,c);};a.prototype.interpolate=function(e,d){var c,g,f;for(c in d){g=d[c];f=new RegExp("%%%"+c+"%%%","gi");if(e.match(f)){e=e.replace(f,g);}}return e;};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/TemplateBuilder.js");(function(b){var c=2000;var a=function(d){this.document=d.ownerDocument;this.block=d;};a.prototype.setClassProperties=function(){if(!this.styleSet){var d=document.createElement("STYLE");d.textContent=".triplelift_progress_element::-webkit-progress-value { background: white; }";d.textContent+=".triplelift_progress_element::-moz-progress-bar { background: white; }";d.textContent+=".triplelift_progress_div { width:100%; height:100%; position: relative; background-color:whiteSmoke; }";d.textContent+=".triplelift_progress_div > span { text-indent: -9999px; background-color:blue; display:block; border-radius:2px;}";
document.body.appendChild(d);this.styleSet=true;}};a.prototype.setValue=function(e){this.pb.value=e.toString();var d=parseInt(this.pb.max,10);var f=this.pb.getElementsByTagName("SPAN")[0];f.style.width=Math.round(100*(e/d))+"%";};a.prototype.styleProgressBar=function(d){this.setClassProperties();var e=this.block;d.className="triplelift_progress_element";d.style.position="absolute";if(e.style.top!==""){d.style.top=e.style.top;}else{d.style.top=e.offsetTop;}if(e.style.left!==""){d.style.left=e.style.left;
}else{d.style.left=e.offsetLeft;}d.style.opacity=0.6;d.style.width=this.block.offsetWidth+"px";d.style.height="10px";d.style["-webkit-appearance"]="none";};a.prototype.createIESafeProgress=function(e){var g=this.document.createElement("DIV");g.className="triplelift_progress_div";var f=this.document.createElement("SPAN");f.className="triplelift_progress_span";g.appendChild(f);f.style.width="0%";f.textContent="1000000";e.appendChild(g);};a.prototype.setProgressBar=function(d){var e=this.document.createElement("PROGRESS");
e.style.display="none";this.pb=e;e.max=c.toString();this.createIESafeProgress(e);this.styleProgressBar(e);this.block.parentNode.insertBefore(e,this.block);};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ProgressBar.js");(function(c){var b=function(){};b.prototype.doShims=function(e){this.setForEach(e);this.setCSSProps(e);this.setEvents();this.setBind();this.setMap();this.setSome();this.setCreate();this.setIndexOf();this.setTrim();};b.prototype.setTrim=function(){if(!String.prototype.trim){(function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"");};})();}};b.prototype.isMobile=function(){return(navigator&&navigator.userAgent&&navigator.userAgent.match(/iphone|android/i));
};b.prototype.parsePixInt=function(g){var f=g.split("px");var e=f[0];return parseInt(e);};b.prototype.closest=function(l,e,k){var j=0;var g=1;if(!l){return false;}var f=true;if(e.tagName){if(l.tagName!==e.tagName){f=false;}}if(e.id){if(l.id!==e.id){f=false;}}if(e.classNames){if(!l.className){f=false;}else{var h=l.className.split(" ");var i={};h.forEach(function(m){i[m]=m;});e.classNames.forEach(function(m){if(!(m in i)){f=false;}});}}if(f){return l;}else{if(k===g){if(l.previousSibling){return this.closest(l.previousSibling,e,g);
}return this.closest(l.nextSibling,e,j);}else{if(l.nextSibling){return this.closest(l.nextSibling,e,j);}return this.closest(l.parentNode,e,g);}}};b.prototype.setForEach=function(f){var e=f.Array;if(!e.prototype.forEach){e.prototype.forEach=function(n,h){var j,i;if(this==null){throw new TypeError(" this is null or not defined");}var m=Object(this);var g=m.length>>>0;if(typeof n!=="function"){throw new TypeError(n+" is not a function");}if(arguments.length>1){j=h;}i=0;while(i<g){var l;if(i in m){l=m[i];
n.call(j,l,i,m);}i++;}};}};b.prototype.setCSSProps=function(h){var e=h.CSSStyleDeclaration;var g=function(i){return i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");};var f=!!e.prototype.getPropertyValue;if(!f){e.prototype.getPropertyValue=function(i){return this.getAttribute(i);};e.prototype.setProperty=function(j,k,i){this.setAttribute(j,k);var i=typeof i!="undefined"?i:"";if(i!=""){var l=new RegExp(g(j)+"\\s*:\\s*"+g(k)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(l,j+": "+k+" !"+i+";");}};
e.prototype.removeProperty=function(i){return this.removeAttribute(i);};e.prototype.getPropertyPriority=function(i){var j=new RegExp(g(i)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi");return j.test(this.cssText)?"important":"";};}};b.prototype.setEvents=function(){if(!Element.prototype.addEventListener){var f={};function e(g){if(!g){g=window.event;}for(var j=0,h=0,i=f[g.type];h<i.aEls.length;h++){if(i.aEls[h]===this){for(j;j<i.aEvts[h].length;j++){i.aEvts[h][j].call(this,g);}break;}}}Element.prototype.addEventListener=function(m,j){if(f.hasOwnProperty(m)){var i=f[m];
for(var g=-1,h=0;h<i.aEls.length;h++){if(i.aEls[h]===this){g=h;break;}}if(g===-1){i.aEls.push(this);i.aEvts.push([j]);this["on"+m]=e;}else{var l=i.aEvts[g];if(this["on"+m]!==e){l.splice(0);this["on"+m]=e;}for(var k=0;k<l.length;k++){if(l[k]===j){return;}}l.push(j);}}else{f[m]={aEls:[this],aEvts:[[j]]};this["on"+m]=e;}};Element.prototype.removeEventListener=function(m,j){if(!f.hasOwnProperty(m)){return;}var i=f[m];for(var g=-1,h=0;h<i.aEls.length;h++){if(i.aEls[h]===this){g=h;break;}}if(g===-1){return;
}for(var l=0,k=i.aEvts[g];l<k.length;l++){if(k[l]===j){k.splice(l,1);}}};}};b.prototype.setBind=function(){if(!Function.prototype.bind){Function.prototype.bind=function(e){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var i=Array.prototype.slice.call(arguments,1),h=this,f=function(){},g=function(){return h.apply(this instanceof f?this:e,i.concat(Array.prototype.slice.call(arguments)));};f.prototype=this.prototype;g.prototype=new f();
return g;};}};b.prototype.setMap=function(){if(!Array.prototype.map){Array.prototype.map=function(n,m){var f,e,g;if(this==null){throw new TypeError(" this is null or not defined");}var i=Object(this);var j=i.length>>>0;if(typeof n!=="function"){throw new TypeError(n+" is not a function");}if(arguments.length>1){f=m;}e=new Array(j);g=0;while(g<j){var h,l;if(g in i){h=i[g];l=n.call(f,h,g,i);e[g]=l;}g++;}return e;};}};b.prototype.setSome=function(){if(!Array.prototype.some){Array.prototype.some=function(g){if(this==null){throw new TypeError("Array.prototype.some called on null or undefined");
}if(typeof g!=="function"){throw new TypeError();}var j=Object(this);var e=j.length>>>0;var f=arguments.length>=2?arguments[1]:void 0;for(var h=0;h<e;h++){if(h in j&&g.call(f,j[h],h,j)){return true;}}return false;};}};b.prototype.setCreate=function(){if(typeof Object.create!="function"){Object.create=(function(){function f(){}var e=Object.prototype.hasOwnProperty;return function(i){if(typeof i!="object"){throw TypeError("Object prototype may only be an Object or null");}f.prototype=i;var h=new f();
f.prototype=null;if(arguments.length>1){var g=Object(arguments[1]);for(var j in g){if(e.call(g,j)){h[j]=g[j];}}}return h;};})();}};b.prototype.setIndexOf=function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(g,h){var f;if(this==null){throw new TypeError('"this" is null or not defined');}var i=Object(this);var e=i.length>>>0;if(e===0){return -1;}var j=+h||0;if(Math.abs(j)===Infinity){j=0;}if(j>=e){return -1;}f=Math.max(j>=0?j:e-Math.abs(j),0);while(f<e){if(f in i&&i[f]===g){return f;
}f++;}return -1;};}};var d={};var a=0;b.prototype.setDOMEvent=function(g,f,e,i){var h=function(m){var l;if(!m){l=this;m={};}else{l=m.target||m.srcElement;}var k=m.data;var j=e({target:l,data:k})===false;if(i||j){m.stopPropagation&&m.stopPropagation();m.preventDefault&&m.preventDefault();return false;}return true;};if(g.addEventListener){g.addEventListener(f,h);}else{if(g.attachEvent){g.attachEvent("on"+f,h);}else{throw new Error("unknown event api");}}if(!g.tagName){return;}if(g.getAttribute("tleid")!=null){d[g.getAttribute("tleid")].events.push({type:f,cb:h});
}else{d[a]={el:g,events:[{type:f,cb:h}]};g.setAttribute("tleid",a.toString());a++;}};b.prototype.clearDOMEvents=function(f){var e=parseInt(f.getAttribute("tleid"),10);if(isNaN(e)){return;}var f=d[e];if(!f){throw new Error("no element at triplelift element id: "+e);}f=f.el;d[e].events.forEach(function(g){f.removeEventListener(g.type,g.cb);});};b.prototype.getWindowFromDocument=function(f){var e=window;while(e){if(window.document=f){return e;}e=e.parent;}};b.prototype.docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;
},setItem:function(h,k,g,f,e,i){if(!h||/^(?:expires|max\-age|path|domain|secure)$/i.test(h)){return false;}var j="";if(g){switch(g.constructor){case Number:j=g===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+g;break;case String:j="; expires="+g;break;case Date:j="; expires="+g.toUTCString();break;}}document.cookie=encodeURIComponent(h)+"="+encodeURIComponent(k)+j+(e?"; domain="+e:"")+(f?"; path="+f:"")+(i?"; secure":"");return true;},removeItem:function(g,f,e){if(!g||!this.hasItem(g)){return false;
}document.cookie=encodeURIComponent(g)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(e?"; domain="+e:"")+(f?"; path="+f:"");return true;},hasItem:function(e){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie);},keys:function(){var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var f=0;f<e.length;f++){e[f]=decodeURIComponent(e[f]);}return e;}};window._tlModuleLoader.onReady(c,b);
})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/BrowserInvariants.js");(function(b){var a={};var e={};var d=function(f){if(e[f.qs]){e[f.qs].forEach(function(g){g(f.lp);});delete e[f.qs];}};var c=function(g,f){if(!e[g]){e[g]=[f];}else{e[g].push(f);}};a.updateLogoZones=d;a.register=c;window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/LP.js");(function(a){var b=function(){try{jQuery;jQuery();this.jQueryPresent=true;}catch(c){this.jQueryPresent=false;}};b.prototype.layout=function(c){this.layoutMasonry(c);this.layoutIsotope(c);};b.prototype.layoutMasonry=function(c){masonryContainer=jQuery(".masonry");if(!masonryContainer.length){masonryContainer=null;}if(masonryContainer&&masonryContainer.length>1){masonryContainer=jQuery(masonryContainer[0]);}if(!masonryContainer){jQuery.each(jQuery.find("*"),function(d,e){if(jQuery.data(e,"masonry")){masonryContainer=jQuery(e);
}});}if(masonryContainer&&masonryContainer.data("masonry")){masonryContainer.masonry("reloadItems");masonryContainer.masonry();}};b.prototype.layoutIsotope=function(f){var e=jQuery.fn.isotope;if(e){var c=jQuery(".isotope");if(c.length!==1){var d=f;while(true){if(!d.parentNode){break;}if(!jQuery.data(jQuery(d.parentNode),"isotope")){d=d.parentNode;continue;}c=jQuery(d.parentNode);break;}}if(!c.data("isotope")){c=false;}c&&c.isotope("reloadItems").isotope({sortBy:"original-order"});}};window._tlModuleLoader.onReady(a,b);
})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Layout.js");(function(a){var b=function(c,e){this.document=c.document;this.window=c.window;var d=this.document.createElement("IMG");d.src="//img.3lift.com/?inv_code=makersalley_main&width=368&height=358&alt=tl&url=http%3A%2F%2Fimages.adpinr.com%2F2812631.jpg&logo_exclude=&v=24&logo=http%3A%2F%2Fimages.adpinr.com%2F2828495.jpg&lox=22&loy=0&cv_version=3&ha_version=2";e.parentNode.insertBefore(d,e);};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/SimpleImage.js");(function(a){var d;var b;var e=function(f){this.videoController=f;this.nativeAdInfo=f.nativeAdInfo;this.nativePlayerControls={height:f.config.playerSettings.showControls?35:0};f.nativeAdInfo.docInfo.topWindow.onYouTubePlayerAPIReady=function(){d=true;b=f.nativeAdInfo.docInfo.topWindow.YT;};};var c=function(){return !!d;};e.prototype.setButtons=function(){var i=this.playerButtonManager=new this.nativeAdInfo.modules.ButtonManager(this.nativeAdInfo);i.registerBlock(this.videoController.wrappedPlayer);
var f=new this.nativeAdInfo.modules.Button(this.videoController.assets.xbutton,12,12);var g=i.addCornerButton(f,"NE",function(){});this.nativeAdInfo.cssHelper.setStyle(g.style,"min-width","0px","important");this.nativeAdInfo.cssHelper.setStyle(g.style,"min-height","0px","important");var h=this;this.setDOMEvent(g,"click",function(k){h.videoController.toggleOff();},true);this.setDOMEvent(this.videoController.playButton,"click",function(k){h.videoController.toggleOn();},true);this.setDOMEvent(this.videoController.ad.getMainImage(),"click",function(k){h.videoController.toggleOn();
},true);var j=this.addTransparentDiv();if(j.style["z-index"]){g.style["z-index"]=(parseInt(j.style["z-index"],10)+1)+"";}else{g.style["z-index"]="1";}this.shareButtonElements=this.nativeAdInfo.modules.addShareButtons.addShareButtons(this.nativeAdInfo,this.playerButtonManager,0,this.nativePlayerControls.height-7);};e.prototype.addTransparentDiv=function(){var i=this.transparentDiv=this.nativeAdInfo.docInfo.topDocument.createElement("DIV");i.style.opacity=0;var h=this.videoController.wrappedPlayer;
i.style.position="absolute";i.style.width=h.offsetWidth+"px";i.style.height=(h.offsetHeight-this.nativePlayerControls.height)+"px";i.style.top="0px";i.style.left="0px";h.appendChild(i);var f=this;var g=function(k){var j=f.player.getPlayerState();if((j==b.PlayerState.PAUSED)||(j==b.PlayerState.CUED)||(j<0)){f.player.playVideo();}else{f.pauseVideo();window.open(f.nativeAdInfo.creative.params.clickthrough_url,"_blank");f.nativeAdInfo.analytics.click();}};this.setDOMEvent(i,"click",g,true);return i;};
e.prototype.load=function(g,f){this.initAPI();this.beginWait(c,function(){f(g);});};e.prototype.pauseVideo=function(){this.player.pauseVideo();};e.prototype.playVideo=function(){this.player.playVideo();};e.prototype.getVideoLengthMS=function(){return this.getVideoLengthSeconds()*1000;};e.prototype.getVideoLengthSeconds=function(){return this.player.getDuration();};e.prototype.resetVideo=function(){var g=this;var f=function(){g.player.pauseVideo();var h=250;setTimeout(function(){if(g.player.getPlayerState()!==b.PlayerState.PAUSED){f();
}},h);};this.player.seekTo(0);this.registerOneTimePlayEvent(f);};e.prototype.registerOneTimePlayEvent=function(f){if(this.oneTimePlayEvent){throw new Error("event already registered");}this.oneTimePlayEvent=f;};e.prototype.initYTPlayer=function(n,o,k,j){var i=this.videoController.config;var m=i.playerSettings.showControls?1:0;var f=0;var g=i.playerSettings.videoID;var l=this;this.player=new b.Player(n.playerID,{height:k,width:o,videoId:g,playerVars:{controls:m,showinfo:0,modestbranding:1,rel:f,autohide:0,wmode:"transparent"},events:{onReady:function(){j();
},onStateChange:function(h){l.onPlayerStateChange(h);},onError:function(h){h.youtube=true;l.nativeAdInfo.errorDecorator.fireError(h);}}});};e.prototype.addPlayButtonClick=function(){var f=this;this.videoController.pb.click(function(){f.videoToggler.toggle();});};e.prototype.beginWait=function(f,h){if(f()){h.call(this);}else{var g=this;setTimeout(function(){g.beginWait(f,h);},500);}};e.prototype.setPrePlay=function(){this.videoController.setPrePlay();};e.prototype.initAPI=function(){var f=this.nativeAdInfo.docInfo.topDocument.createElement("script");
f.src="//www.youtube.com/player_api";var g=this.nativeAdInfo.docInfo.topDocument.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g);};e.prototype.registerYTAd=function(){var f=this;var g=function(h){f.onEvent(h);};this.videoController.registerVideoAd(g);};e.prototype.initPlayer=function(f){var i=this.videoController;var l=this.videoController.hook;var g=this.parsePixInt(l.style.width);var j=this.parsePixInt(l.style.height);var k=this.videoController.wrappedPlayerInfo;this.initYTPlayer(k,g,j,f);
};e.prototype.expDecayMonitor=function(f){if(this.videoController.videoEnded){return;}if(this.videoController.playState==="playing"){this.nativeAdInfo.analytics.duration(this.getDuration());f=f*1.5;}setTimeout(this.expDecayMonitor.bind(this,f),f);};e.prototype.getDuration=function(){return this.durationMonitor.getDuration();};e.prototype.onPlayerStateChange=function(i){var g=this.videoController;var h=g.nativeAdInfo.analytics;if(i.data==b.PlayerState.PLAYING){g.playState="playing";if(!g.initPlay){g.initPlay=true;
h.play();this.durationMonitor=new g.nativeAdInfo.modules.DurationMonitor(this.getVideoLengthMS());this.expDecayMonitor(1000);}this.durationMonitor.setStart(new Date().getTime());if(this.oneTimePlayEvent){this.oneTimePlayEvent();this.oneTimePlayEvent=false;}}else{if(i.data==b.PlayerState.PAUSED){g.playState="paused";this.durationMonitor.setStop(new Date().getTime());}else{if(i.data===b.PlayerState.ENDED){this.durationMonitor.setStop(new Date().getTime());var f=g.config;g.toggleOff();if(!g.videoEnded){g.videoEnded=true;
var j=this.nativeAdInfo.creative.params.length_seconds;h.duration(j*1000);}if(f.playerSettings.resetVideo){this.resetVideo();}if(!f.playerSettings.autoPlay){f.playerSettings.autoPlay=true;}}}}};e.prototype.createYTURL=function(){var g=this.videoID;var f="//youtube.com/watch?v="+g;return f;};e.prototype.constructMouseButtonLayoutCommands=function(){var g=this.videoController.getConfiguration();var f=["getShareButtonsLayout","getXButtonLayout","getBottomTransBar"];if(!g.transparentClickThroughDiv||(this.videoController.IEHTML5&&!this.videoController.IE11)){f.push("getSeeMoreButtonLayout");
}else{f.push("getTransparentClickThroughDiv");}return f;};window._tlModuleLoader.onReady(a,e);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/YouTubeAPI.js");(function(a){var c=function(e){this.nativeAdInfo=e;this.window=e.docInfo.window;};c.prototype.safeSetZindex=function(f,g,i){if(g){try{g.style.zIndex=f;}catch(h){g.style.zIndex=f+"";}}};c.prototype.determineWinForEl=function(f){var e=this.nativeAdInfo.docInfo;if(e.topDocument&&(f.ownerDocument==e.topDocument)){return e.topWindow;}return e.scriptWindow;};c.prototype.getRealStyle=function(e){var f=this.determineWinForEl(e);if(e.nodeType==e.ELEMENT_NODE){if(f.getComputedStyle){return f.getComputedStyle(e);
}if(e.currentStyle){return e.currentStyle;}}return{};};c.prototype.getStyleAttributes=function(h,f){if(!h){return false;}if(!h.length){return[];}var e=this.getRealStyle(f);var i=[];var g=this;h.forEach(function(j){var k={};k.name=j;k.value=g.getSafeStyle(j,e);i.push(k);});return i;};c.prototype.getFloat=function(g){var f,e;f=g["float"];e=g.cssFloat;if(f&&f.length){return f;}return e;};c.prototype.margin=function(g){var f,e;f=g.margin;e=g.marginTop+" "+g.marginRight+" "+g.marginBottom+" "+g.marginLeft;
if(f&&f.length){return f;}return e;};c.prototype.padding=function(g){var f,e;f=g.padding;e=g.paddingTop+" "+g.paddingRight+" "+g.paddingBottom+" "+g.paddingLeft;if(f&&f.length){return f;}return e;};c.prototype.border=function(g){var f,e;f=g.border;e=g.borderTop+" "+g.borderRight+" "+g.borderBottom+" "+g.borderLeft;if(f&&f.length){return f;}return e;};c.prototype.getSafeStyle=function(e,f){if(this[e]){return this[e](f);}return false;};c.prototype.fadeIn=function(h,j,e,i){e=e||function(){};h.style.opacity=i||0;
h.style.display="";var f=j/20;g();function g(){h.style.opacity=(parseFloat(h.style.opacity,10)+0.05).toFixed(2);if(h.style.opacity<1){setTimeout(g,f);}else{e();}}};c.prototype.fadeOut=function(h,j,e,i){e=e||function(){};h.style.opacity=i||1;h.style.display="";var f=j/20;g();function g(){h.style.opacity=(parseFloat(h.style.opacity,10)-0.05).toFixed(2);if(h.style.opacity>0){setTimeout(g,f);}else{e();}}};c.prototype.setStyle=function(k,g,i,f){var h=this.nativeAdInfo;try{k.setProperty(g,i,f);}catch(j){h.errorDecorator.fireError({stack:j},"setStyle");
}};c.prototype.clearPMFB=function(f){var e=f.style;this.setStyle(e,"padding","0","important");this.setStyle(e,"margin","0","important");this.setStyle(e,"border","0","important");this.setStyle(e,"float","none","important");};var d=function(e){if(e.opacity<1){return true;}if(e.transform!="none"){return true;}if(e["mix-blend-mode"]!="normal"){return true;}if(e.filter!="none"){return true;}if(e.isolation=="isolate"){return true;}if(e.position=="absolute"||e.position=="relative"){return true;}return false;
};c.prototype.getStackingContextRoot=function(e){var f=e;while(f){if(d(this.getRealStyle(f))&&f.parentNode){f=f.parentNode;}else{break;}}return f;};var b=function(g){var e=[];var f=0;var h=g.length;for(;f<h;f++){e.push(g[f]);}return e;};c.prototype.push2pseudo=function(f,g){try{f[f.length]=g;f.length++;}catch(h){return b(f).push(g);}};c.prototype.move2FrontStackingContext=function(f,h){var n=1;var g=n;var k,e;e=this.getStackingContextRoot(f);var l=e.getElementsByTagName("*");this.push2pseudo(l,e);
var j=0,o=l.length;var m;for(;j<o;j++){m=l[j];if(m==h){break;}k=this.getRealStyle(m);if(k["z-index"]){n=parseInt(k["z-index"],10)||n;if(n>g){g=n+1;}}}this.safeSetZindex(g,f);};c.prototype.getMediaEventListener=function(g,f){return e;function e(n){var p=f.styleSheets;for(var m=0;m<p.length;m++){var l;try{l=p[m].cssRules;}catch(o){}if(!l){continue;}for(var k=0;k<l.length;k++){if(l[k].constructor===CSSMediaRule){if(l[k].media.mediaText.length===0){continue;}var h=g.matchMedia(l[k].media.mediaText);h.addListener(n);
n(h);}}}}};window._tlModuleLoader.onReady(a,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/CSSHelper.js");(function(b){var a=function(){};a.prototype.checkForMetaTag=function(c){var g=c.getElementsByTagName("META");var e=0,f=g.length;var d;for(;e<f;e++){d=g[e];if(d.hasAttribute&&d.getAttribute){if(d.hasAttribute("name")&&((d.getAttribute("name")==="triplelift-brand-safe")||(d.getAttribute("name")==="triplelift-include-ad"))){if(d.hasAttribute("content")&&(d.getAttribute("content")==="no")){return true;}}}else{if(d.name&&(d.name==="triplelift-brand-safe")||(d.name==="triplelift-include-ad")){if(d.content&&(d.content==="no")){return true;
}}}}return false;};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/MetaTag.js");(function(a){function b(x){var s="1.1.5";x=x||{};j();t();function j(){if(x.escapeMode===undefined){x.escapeMode=true;}x.attributePrefix=x.attributePrefix||"_";x.arrayAccessForm=x.arrayAccessForm||"none";x.emptyNodeForm=x.emptyNodeForm||"text";if(x.enableToStringFunc===undefined){x.enableToStringFunc=true;}x.arrayAccessFormPaths=x.arrayAccessFormPaths||[];if(x.skipEmptyTextNodesForObj===undefined){x.skipEmptyTextNodesForObj=true;}if(x.stripWhitespaces===undefined){x.stripWhitespaces=true;}x.datetimeAccessFormPaths=x.datetimeAccessFormPaths||[];
}var i={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function t(){function z(B){var A=String(B);if(A.length===1){A="0"+A;}return A;}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"");};}if(typeof Date.prototype.toISOString!=="function"){Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+z(this.getUTCMonth()+1)+"-"+z(this.getUTCDate())+"T"+z(this.getUTCHours())+":"+z(this.getUTCMinutes())+":"+z(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z";
};}}function v(z){var A=z.localName;if(A==null){A=z.baseName;}if(A==null||A==""){A=z.nodeName;}return A;}function q(z){return z.prefix;}function r(z){if(typeof(z)=="string"){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;");}else{return z;}}function l(z){return z.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/");}function n(D,A,C){switch(x.arrayAccessForm){case"property":if(!(D[A] instanceof Array)){D[A+"_asArray"]=[D[A]];
}else{D[A+"_asArray"]=D[A];}break;}if(!(D[A] instanceof Array)&&x.arrayAccessFormPaths.length>0){var z=0;for(;z<x.arrayAccessFormPaths.length;z++){var B=x.arrayAccessFormPaths[z];if(typeof B==="string"){if(B==C){break;}}else{if(B instanceof RegExp){if(B.test(C)){break;}}else{if(typeof B==="function"){if(B(D,A,C)){break;}}}}}if(z!=x.arrayAccessFormPaths.length){D[A]=[D[A]];}}}function c(E){var C=E.split(/[-T:+Z]/g);var D=new Date(C[0],C[1]-1,C[2]);var B=C[5].split(".");D.setHours(C[3],C[4],B[0]);if(B.length>1){D.setMilliseconds(B[1]);
}if(C[6]&&C[7]){var A=C[6]*60+Number(C[7]);var z=/\d\d-\d\d:\d\d$/.test(E)?"-":"+";A=0+(z=="-"?-1*A:A);D.setMinutes(D.getMinutes()-A-D.getTimezoneOffset());}else{if(E.indexOf("Z",E.length-1)!==-1){D=new Date(Date.UTC(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()));}}return D;}function p(C,A,B){if(x.datetimeAccessFormPaths.length>0){var D=B.split(".#")[0];var z=0;for(;z<x.datetimeAccessFormPaths.length;z++){var E=x.datetimeAccessFormPaths[z];
if(typeof E==="string"){if(E==D){break;}}else{if(E instanceof RegExp){if(E.test(D)){break;}}else{if(typeof E==="function"){if(E(obj,A,D)){break;}}}}}if(z!=x.datetimeAccessFormPaths.length){return c(C);}else{return C;}}else{return C;}}function y(B,G){if(B.nodeType==i.DOCUMENT_NODE){var H=new Object;var z=B.childNodes;for(var I=0;I<z.length;I++){var A=z.item(I);if(A.nodeType==i.ELEMENT_NODE){var F=v(A);H[F]=y(A,F);}}return H;}else{if(B.nodeType==i.ELEMENT_NODE){var H=new Object;H.__cnt=0;var z=B.childNodes;
for(var I=0;I<z.length;I++){var A=z.item(I);var F=v(A);if(A.nodeType!=i.COMMENT_NODE){H.__cnt++;if(H[F]==null){H[F]=y(A,G+"."+F);n(H,F,G+"."+F);}else{if(H[F]!=null){if(!(H[F] instanceof Array)){H[F]=[H[F]];n(H,F,G+"."+F);}}(H[F])[H[F].length]=y(A,G+"."+F);}}}for(var C=0;C<B.attributes.length;C++){var D=B.attributes.item(C);H.__cnt++;H[x.attributePrefix+D.name]=D.value;}var E=q(B);if(E!=null&&E!=""){H.__cnt++;H.__prefix=E;}if(H["#text"]!=null){H.__text=H["#text"];if(H.__text instanceof Array){H.__text=H.__text.join("\n");
}if(x.escapeMode){H.__text=l(H.__text);}if(x.stripWhitespaces){H.__text=H.__text.trim();}delete H["#text"];if(x.arrayAccessForm=="property"){delete H["#text_asArray"];}H.__text=p(H.__text,F,G+"."+F);}if(H["#cdata-section"]!=null){H.__cdata=H["#cdata-section"];delete H["#cdata-section"];if(x.arrayAccessForm=="property"){delete H["#cdata-section_asArray"];}}if(H.__cnt==1&&H.__text!=null){H=H.__text;}else{if(H.__cnt==0&&x.emptyNodeForm=="text"){H="";}else{if(H.__cnt>1&&H.__text!=null&&x.skipEmptyTextNodesForObj){if((x.stripWhitespaces&&H.__text=="")||(H.__text.trim()=="")){delete H.__text;
}}}}delete H.__cnt;if(x.enableToStringFunc&&(H.__text!=null||H.__cdata!=null)){H.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"");};}return H;}else{if(B.nodeType==i.TEXT_NODE||B.nodeType==i.CDATA_SECTION_NODE){return B.nodeValue;}}}}function o(G,D,F,A){var C="<"+((G!=null&&G.__prefix!=null)?(G.__prefix+":"):"")+D;if(F!=null){for(var E=0;E<F.length;E++){var B=F[E];var z=G[B];if(x.escapeMode){z=r(z);}C+=" "+B.substr(x.attributePrefix.length)+"='"+z+"'";
}}if(!A){C+=">";}else{C+="/>";}return C;}function k(A,z){return"</"+(A.__prefix!=null?(A.__prefix+":"):"")+z+">";}function u(A,z){return A.indexOf(z,A.length-z.length)!==-1;}function w(A,z){if((x.arrayAccessForm=="property"&&u(z.toString(),("_asArray")))||z.toString().indexOf(x.attributePrefix)==0||z.toString().indexOf("__")==0||(A[z] instanceof Function)){return true;}else{return false;}}function m(B){var A=0;if(B instanceof Object){for(var z in B){if(w(B,z)){continue;}A++;}}return A;}function d(B){var A=[];
if(B instanceof Object){for(var z in B){if(z.toString().indexOf("__")==-1&&z.toString().indexOf(x.attributePrefix)==0){A.push(z);}}}return A;}function h(A){var z="";if(A.__cdata!=null){z+="<![CDATA["+A.__cdata+"]]>";}if(A.__text!=null){if(x.escapeMode){z+=r(A.__text);}else{z+=A.__text;}}return z;}function e(A){var z="";if(A instanceof Object){z+=h(A);}else{if(A!=null){if(x.escapeMode){z+=r(A);}else{z+=A;}}}return z;}function g(B,D,C){var z="";if(B.length==0){z+=o(B,D,C,true);}else{for(var A=0;A<B.length;
A++){z+=o(B[A],D,d(B[A]),false);z+=f(B[A]);z+=k(B[A],D);}}return z;}function f(F){var z="";var D=m(F);if(D>0){for(var C in F){if(w(F,C)){continue;}var B=F[C];var E=d(B);if(B==null||B==undefined){z+=o(B,C,E,true);}else{if(B instanceof Object){if(B instanceof Array){z+=g(B,C,E);}else{if(B instanceof Date){z+=o(B,C,E,false);z+=B.toISOString();z+=k(B,C);}else{var A=m(B);if(A>0||B.__text!=null||B.__cdata!=null){z+=o(B,C,E,false);z+=f(B);z+=k(B,C);}else{z+=o(B,C,E,true);}}}}else{z+=o(B,C,E,false);z+=e(B);
z+=k(B,C);}}}}z+=e(F);return z;}this.parseXmlString=function(B){var D=window.ActiveXObject||"ActiveXObject" in window;if(B===undefined){return null;}var C;if(window.DOMParser){var E=new window.DOMParser();var z=null;if(!D){try{z=E.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI;}catch(A){z=null;}}try{C=E.parseFromString(B,"text/xml");if(z!=null&&C.getElementsByTagNameNS(z,"parsererror").length>0){C=null;}}catch(A){C=null;}}else{if(B.indexOf("<?")==0){B=B.substr(B.indexOf("?>")+2);
}C=new ActiveXObject("Microsoft.XMLDOM");C.async="false";C.loadXML(B);}return C;};this.asArray=function(z){if(z instanceof Array){return z;}else{return[z];}};this.toXmlDateTime=function(z){if(z instanceof Date){return z.toISOString();}else{if(typeof(z)==="number"){return new Date(z).toISOString();}else{return null;}}};this.asDateTime=function(z){if(typeof(z)=="string"){return c(z);}else{return z;}};this.xml2json=function(z){return y(z);};this.xml_str2json=function(z){var A=this.parseXmlString(z);
if(A!=null){return this.xml2json(A);}else{return null;}};this.json2xml_str=function(z){return f(z);};this.json2xml=function(A){var z=this.json2xml_str(A);return this.parseXmlString(z);};this.getVersion=function(){return s;};}window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/X2JS.js");(function(a){var d=10,c=25;var b=function(e){this.ad=e.ad;this.analytics=e.analytics;this.browserInfo=e.browserInfo;this.creative=e.creative;this.cssHelper=e.cssHelper;this.dummyImage=e.dummyImage;this.firePix=e.firePix;this.onReady=e.onReady;this.placementDetails=e.placementDetails;this.viewability=e.viewability;this.x2js=e.x2js;this.vastJson=null;this.impressionTrackers=[];this.assortedTrackers=[];this.videoClickTrackers=[];};b.prototype.init=function(){this.unwrap(this.creative.params.vast_xml,e.bind(this));
function e(){this.removeDefaultClickThrough(this.ad);this.loadVideoAssets(this.ad);}};b.prototype.unwrap=function(i,h){var g=this,e=this.x2js.xml_str2json(i),f=this.x2js.asArray(e.VAST.Ad)[0];this.collectAnalytics(f);if(f.Wrapper){k(f);}else{if(f.InLine){this.vastJson=e;h();}else{}}function k(m){if("withCredentials" in new XMLHttpRequest()){var n=new XMLHttpRequest();n.open("GET",m.Wrapper.VASTAdTagURI.toString(),true);n.addEventListener("load",j);n.send();}else{if(typeof XDomainRequest!="undefined"){var l=new XDomainRequest();
l.open("GET",m.Wrapper.VASTAdTagURI.toString());l.onload=j;setTimeout(function(){l.send();},0);}}}function j(){var l=this.responseText;g.unwrap.call(g,l,h);}};b.prototype.collectAnalytics=function(g){var i=this,h=g.InLine||g.Wrapper;if(h.Impression){this.impressionTrackers=this.impressionTrackers.concat(this.x2js.asArray(h.Impression));}var k=this.getLinearCreatives(h);var f=k.reduce(e("TrackingEvents","Tracking"),[]);var j=k.reduce(e("VideoClicks","ClickTracking"),[]);this.assortedTrackers=this.assortedTrackers.concat(f);
this.videoClickTrackers=this.videoClickTrackers.concat(j);function e(l,m){return function(p,o){var n=o.Linear;if(n[l]&&n[l][m]){return p.concat(i.x2js.asArray(n[l][m]));}else{return p;}};}};b.prototype.removeDefaultClickThrough=function(f){var e=f.getClickThroughAnchor();if(e){e.removeAttribute("href");e.removeAttribute("target");e.style.cursor="pointer";}};b.prototype.loadVideoAssets=function(h){var f=document.createElement("SCRIPT");f.src="//ib.3lift.com/static/video-js/video.js";var i=document.createElement("link");
i.rel="stylesheet";i.type="text/css";i.href="//ib.3lift.com/static/video-js/video-js.min.css";i.media="all";var g=this.insertVideo.bind(this);var e=this.waitFor(2,g);f.onload=e;i.onload=e;document.body.appendChild(f);document.body.appendChild(i);};b.prototype.insertVideo=function(){var g=this.ad.getMainImage(),h=g.parentElement,f=this.creative.params.image_url,e=this.getVideoElement(this.vastJson);if(this.dummyImage){imageDims={width:this.dummyImage.width,height:this.dummyImage.height};}else{imageDims=this.ad.getMainImageDimensions();
}this.setDOMEvent(h,"click",this.noop,true);h.insertBefore(e,g);g.style.display="none";var i={preload:"auto",controls:true,poster:f,width:imageDims.width,height:imageDims.height,children:{bigPlayButton:false,loadingSpinner:false,controlBar:{playToggle:true,posterImage:false,currentTimeDisplay:false,timeDivider:false,durationDisplay:false,progressControl:true,volumeControl:false}}};videojs(e,i,this.onPlayerLoad());};b.prototype.onPlayerLoad=function(){var e=this;return function(){var g=this;e.player=g;
var i=g.getChild("controlBar");var j=(e.placementDetails.imageWidth<300||e.placementDetails.imageHeight<250);e.setAnalytics(g);e.addPlayButton(g);e.addPauseButton(g);if(e.browserInfo.isIphone){e.initIphone(g);}else{if(e.browserInfo.isMobile){e.initMobile(g);}else{e.initDesktop(g,j);}}if(j){e.setDOMEvent(g.el(),"click",function(){g.requestFullscreen();},true);g.on("fullscreenchange",function(){if(!g.isFullscreen()){g.pause();e.showPoster(g);}});}var f=e.setDimensions.bind(e,g);if(window.matchMedia&&document.styleSheets){var h=e.cssHelper.getMediaEventListener(window,document);
h(f);}else{setInterval(f,1000);}setTimeout(f,0);e.onReady();};};b.prototype.initIphone=function(e){var f=e.getChild("controlBar");f.hide();this.showPoster(e);};b.prototype.initMobile=function(e){var f=this,g=e.getChild("controlBar");f.addClickthrough(e);f.initMobileInteraction(e,g);e.on("loadedmetadata",function(){f.setDimensions(e);setTimeout(f.setDimensions.bind(f,e),2000);});};b.prototype.initDesktop=function(f,j){var h=this,i=f.getChild("controlBar"),g=(["autoplay","autoplay_only"].indexOf(h.creative.params.play_type)>-1&&h.placementDetails.autoplay===true&&!j),e=false;
if(g){g=this.sampleAutoplay();}this.setDOMEvent(i.el(),"click",this.noop,true);h.addClickthrough(f);h.initDesktopState(f,i,g);h.initDesktopInteraction(f,i,e);f.on("loadedmetadata",function(){h.setDimensions(f);setTimeout(h.setDimensions.bind(h,f),2000);g&&h.initSmartAutoplay(f,i);});};b.prototype.sampleAutoplay=function(){var g=1,f=70002,e=(Math.random()<g);this.firePix.fireDyn(f,e?1:0);return e;};b.prototype.initSmartAutoplay=function(g,i){var f=this.viewability.isInView,k=g.el(),e=0.3;function j(){if(f(k,e)&&!g.clickPaused&&!g.ended()){g.play();
}else{g.pause();}}var h=this.throttle(j,250);if(window.addEventListener){addEventListener("DOMContentLoaded",h,false);addEventListener("load",h,false);addEventListener("scroll",h,false);addEventListener("resize",h,false);}else{if(window.attachEvent){attachEvent("onDOMContentLoaded",h);attachEvent("onload",h);attachEvent("onscroll",h);attachEvent("onresize",h);}}h();};b.prototype.setAnalytics=function(f){var e=this.getDurationController(this.analytics.duration.bind(this.analytics));f.one("click",this.fireVastVideoClickTracking.bind(this));
f.on("click",function(){this.paused()&&g.analytics.fireEVE("clickPaused");});f.one("play",this.fireVastImpPix.bind(this));f.one("play",this.fireVastTrackingEvent("start"));f.one("play",this.fireVastTrackingEvent("creativeView"));f.on("play",this.listenForResume());f.on("play",e.start);f.on("pause",this.fireVastTrackingEvent("pause"));f.on("pause",e.stop);f.on("timeupdate",this.fireVastDurationPixWrap());f.on("timeupdate",this.listenForRewind());f.on("ended",this.fireVastTrackingEvent("complete"));
var g=this;f.on("fullscreenchange",function(){if(this.isFullscreen()){g.fireVastTrackingEvent("fullscreen")();g.fireVastTrackingEvent("expand")();g.analytics.fireEVE("expand");}else{g.fireVastTrackingEvent("exitFullscreen")();g.fireVastTrackingEvent("collapse")();g.analytics.fireEVE("collapse");}});var h=f.getChild("controlBar").getChild("muteToggle");h.on("click",function(){var j=this.player().muted();var i=j?"mute":"unmute";g.fireVastTrackingEvent(i)();g.analytics.fireEVE(i);});};b.prototype.listenForResume=function(){var e=this.fireVastTrackingEvent("resume");
return function(){this.currentTime()>0&&e();};};b.prototype.listenForRewind=function(){var e=0;fireRewind=this.fireVastTrackingEvent("rewind");return function(){var f=this.currentTime();if(f<e){fireRewind();}e=f;};};b.prototype.fireVastTrackingEvent=function(f){var g=this.firePix.fire.bind(this.firePix),e=this.assortedTrackers.filter(h).map(i).map(this.replaceMacros.bind(this));return function(){e.forEach(g);};function h(j){return j._event===f;}function i(j){return j.toString();}};b.prototype.replaceMacros=function(e){e=e.replace("[CACHEBUSTING]",this.randDigits(8));
e=e.replace("[ASSETURI]",encodeURIComponent(this.player.currentSrc()));e=e.replace("[CONTENTPLAYHEAD]",encodeURIComponent(this.msToTime(this.player.currentTime())));return e;};b.prototype.fireVastVideoClickTracking=function(){var f=this.firePix;this.videoClickTrackers.forEach(e);function e(g){f.fire(g.toString());}};b.prototype.fireVastDurationPixWrap=function(){var g=this.doOnce(this.fireVastTrackingEvent("firstQuartile")),f=this.doOnce(this.fireVastTrackingEvent("midpoint")),e=this.doOnce(this.fireVastTrackingEvent("thirdQuartile"));
return function(){var i=this.duration();var h=this.currentTime();if(!i||!h){return;}if(h>i*(3/4)){e();}else{if(h>i*(2/4)){f();}else{if(h>i*(1/4)){g();}}}};};b.prototype.fireVastImpPix=function(){var f=this.firePix,e=this.replaceMacros.bind(this);this.impressionTrackers.forEach(function(g){f.fire(e(g.toString()));});};b.prototype.getDurationController=function(h){var i=0,l=0,g;return{start:k,stop:f};function k(){i++;g=Date.now();e(1000,i);}function f(){i++;j();}function e(m,n){setTimeout(function(){if(n===i){j();
e(m*1.5,n);}},m);}function j(){var m=Date.now();l+=m-g;g=m;h(l);}};b.prototype.addClickthrough=function(g){this.logo=this.createLogo(g);var h=this.clickthrough=this.createClickthrough();h.appendChild(this.logo);this.setDOMEvent(h,"click",j.bind(this),true);this.setDOMEvent(h,"mouseover",e.bind(null,h));this.setDOMEvent(h,"mouseout",f.bind(null,h));f(h);var i=g.el();i.appendChild(h);function j(){g.pause();g.clickPaused=true;this.analytics.click();window.open(this.creative.params.clickthrough_url,"_blank");
}function e(k){k.style.opacity="1";}function f(k){k.style.opacity="0.7";}};b.prototype.createLogo=function(e){if(!this.creative.params.logo_image_url){return document.createElement("DIV");}var f=new Image();f.src=this.creative.params.logo_image_url;f.style.display="none";return f;};b.prototype.setDimensions=function(e){this.updatePlayerSize(e);this.setLogoDimensions(e);this.browserInfo.isIpad&&this.setIpadVideoDims(e);};b.prototype.setIpadVideoDims=function(l){var g=l.el().getElementsByTagName("video")[0],h={width:g.videoWidth,height:g.videoHeight},n=g.videoWidth/g.videoHeight,f={width:l.width(),height:l.height()},j=f.width/f.height;
if(n>j){var k="height";var i="width";}else{var k="width";var i="height";}var m=this.getVideoDims(f,h,i,k);var e=Math.round(f[k]-m[k]);g.style[k]=f[k]+e+"px";g.style["max-"+k]=f[k]+e+"px";};b.prototype.setLogoDimensions=function(s){var o=this;var k=this.logo,r={width:k.width,height:k.height},q=k.width/k.height;var f=s.el().getElementsByTagName("video")[0],j={width:f.videoWidth,height:f.videoHeight},g=f.videoWidth/f.videoHeight;var w={width:s.width(),height:s.height()},t=w.width/w.height;if(!r.width||!j.width){return;
}var h=this.placementDetails.logoBlackList.indexOf("NW")===-1?"left":"right";if(g>t){var m=l("width","height","top");n(k,0,h);}else{var m=l("height","width",h);n(k,0,"top");}i(k,m.width,m.height);u(k,m.width);k.removeAttribute("height");k.removeAttribute("width");function l(y,x,z){var C=o.getVideoDims(w,j,y,x),B=Math.round((w[x]-C[x])/2),A=e(B,r,y,x);if(p(A.width,A.height,C.width,C.height)){n(k,0,z);}else{n(k,B,z);A=v(r,C);}return A;}function e(C,D,z,x){var B={},y=C-(2*d),A;B[x]=y;A=B[x]/D[x];B[z]=D[z]*A;
return B;}function n(A,z,y){var x=A.parentElement;x.style[y]=(z+d)+"px";}function v(A,z){var B=0.05,y={},x;y.height=Math.sqrt((z.width*z.height*B)/q);x=y.height/A.height;y.width=A.width*x;return y;}function p(y,x,A,z){return(y>=c&&x>=c&&y<=A&&x<=z);}function i(z,y,x){y=Math.floor(y);x=Math.floor(x);z.style.width=y+"px";z.style.height=x+"px";z.style["max-width"]=y+"px";z.style["max-height"]=x+"px";z.style["min-width"]="10px";z.style["min-height"]="10px";z.style.display="inline-block";}function u(z,y){var x,A;
if(y<=90){x="_w90";}else{if(y<=192){x="_w192";}else{if(y<=300){x="_w300";}else{if(y<=600){x="_w600";}else{x="";}}}}A=o.creative.params.logo_image_url.split(".");A[A.length-2]+=x;z.src=A.join(".");}};b.prototype.getVideoDims=function(f,j,g,e){var h,i={};i[g]=f[g];h=i[g]/j[g];i[e]=Math.round(j[e]*h);return i;};b.prototype.createClickthrough=function(){var e=document.createElement("DIV");e.style.position="absolute";e.style.cursor="pointer";return e;};b.prototype.addPlayButton=function(e){this.playButton=this.makeCenterButton("//ib.3lift.com/static/buttons/play.svg");
this.setDOMEvent(this.playButton,"click",function(){e.play();});e.el().appendChild(this.playButton);};b.prototype.addPauseButton=function(e){this.pauseButton=this.makeCenterButton("//ib.3lift.com/static/buttons/pause.svg");e.el().appendChild(this.pauseButton);};b.prototype.makeCenterButton=function(f){var e=document.createElement("IMG");e.src=f;e.style.width="25%";e.style["max-width"]="150px";e.style["min-width"]="15px";e.style.display="none";this.centerButton(e);return e;};b.prototype.centerButton=function(e){e.style.position="absolute";
e.style.margin="auto";e.style.top="0";e.style.left="0";e.style.right="0";e.style.bottom="0";};b.prototype.initMobileInteraction=function(g,i){var h=this;h.showPoster(g);h.hideHover(i);var f=i.getChild("progressControl");f.hide();var e=i.getChild("remainingTimeDisplay").el();e.style.display="block";g.on("play",function(){h.hidePoster(g);});g.on("useractive",function(){if(!this.isPosterShowing){h.showHover(i);}});g.on("userinactive",function(){h.hideHover(i);});g.on("ended",function(){h.showPoster.call(h,this);
h.hideHover(i);});};b.prototype.initDesktopState=function(g,i,h){this.hideHover(i);if(h){this.hidePoster(g);g.muted(true);}else{this.showPoster(g);}var f=i.getChild("playToggle");f.hide();var e=i.getChild("remainingTimeDisplay").el();e.style.display="block";};b.prototype.initDesktopInteraction=function(g,i,f){var h=this;g.on("ended",function(){h.showPoster.call(h,this);h.hideHover(i);});g.on("mouseover",function(){if(!this.isPosterShowing||this.isFullscreen()){h.showHover(i);}});g.on("mouseout",function(){h.hideHover(i);
});g.on("click",function(j){this.clickPaused=this.paused();h.hidePoster(this);h.playPauseFade(this);});i.on("click",function(j){j.stopPropagation();});var e=i.getChild("progressControl");e.hide();g.on("fullscreenchange",function(){this.isFullscreen()?e.show():e.hide();this.ended()&&h.showPoster(this);});if(f){g.one("mouseover",function(){this.play();h.hidePoster(this);});}};b.prototype.playPauseFade=function(e){if(e.paused()){var f=this.pauseButton;}else{var f=this.playButton;}this.cssHelper.fadeOut(f,600,function(){f.style.display="none";
f.style.opacity=1;});};b.prototype.showHover=function(e){e.show();this.clickthrough.style.display="block";};b.prototype.hideHover=function(e){e.hide();this.clickthrough.style.display="none";};b.prototype.showPoster=function(e){e.el().style["z-index"]=0;e.isPosterShowing=true;e.posterImage.el().style.display="block";e.posterImage.show();this.playButton.style.display="block";};b.prototype.hidePoster=function(e){e.el().style["z-index"]=100;e.isPosterShowing=false;e.posterImage.el().style.display="none";
e.posterImage.hide();this.playButton.style.display="none";};b.prototype.updatePlayerSize=function(h){var e={};if(this.dummyImage){e.width=this.dummyImage.width;e.height=this.dummyImage.height;}else{var g=this.ad.getMainImage();g.style.display="";var f=this.cssHelper.getRealStyle(g);e.width=f.width;e.height=f.height;g.style.display="none";}if(e.width.indexOf&&e.width.indexOf("px")>-1&&e.height.indexOf("px")>-1){h.el().style.width=e.width;h.el().style.height=e.height;}else{h.el().style.width=e.width+"px";
h.el().style.height=e.height+"px";}};b.prototype.getVideoElement=function(e){var h=document.createElement("VIDEO");h.setAttribute("id","tl_video_"+this.randInt(1000));h.setAttribute("class","video-js vjs-default-skin");var f=this.getSourcesFromVast(e);for(var g=0;g<f.length;g++){h.appendChild(f[g]);}return h;};b.prototype.getLinearCreatives=function(f){var e=!!(f.Creatives&&f.Creatives.Creative),h=e?this.x2js.asArray(f.Creatives.Creative):[];return h.filter(g);function g(i){return !!i.Linear;}};b.prototype.getSourcesFromVast=function(e){var h=this.x2js.asArray(e.VAST.Ad)[0],m=this.getLinearCreatives(h.InLine)[0],j=this.x2js.asArray(m.Linear.MediaFiles.MediaFile),l=[],k,g;
for(var f=0;f<j.length;f++){g=j[f];k=document.createElement("SOURCE");k.setAttribute("src",g.toString());k.setAttribute("type",g._type);l.push(k);}return l;};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Vast.js");(function(b){var a=function(c){this.nativeAdInfo=c;this.adChoicesURL=this.inheritProtocol(c.creative.params.adchoices_url);this.assetUrl="//c.betrad.com/icon/c_30_us.png";this.assetWidth=77;this.assetHeight=15;this.assetAR=this.assetWidth/this.assetHeight;};a.prototype.init=function(){var e=this.nativeAdInfo.buttonManager;var f=new this.nativeAdInfo.modules.Button(this.assetUrl,this.assetWidth,this.assetHeight,{isAdChoices:true});var d=e.getFreeCorner()||"NE";var c=e.addCornerButton(f,d,function(){});
this.setClick(c);return c;};a.prototype.setClick=function(c){var d=this;this.setDOMEvent(c,"click",function(f){window.open(d.adChoicesURL,"popup","width=650,height=316");},true);};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/AdChoices.js");(function(c){function d(){}d.prototype.needsBusting=function b(g,f){var e=g.iframeBuster;return e&&!h(f);function h(k){var i;try{i=(k&&k==top);}catch(j){i=false;}return i;}};d.prototype.bust=function a(l,k,g,f){var j=f.parseURI(k.referrer);var i=encodeURIComponent(k.URL);var h=k.createElement("iframe");h.src="//"+j.host+"/doubleclick/TLIframe.html?docsrc="+i+"&script_src="+encodeURIComponent(g);h.width=0;h.height=0;h.frameborder=0;if(k.body==null){var e=k.createElement("body");k.firstElementChild.appendChild(e);
}k.body.appendChild(h);return;};window._tlModuleLoader.onReady(c,d);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/IFrameBuster.js");(function(b){var a=function(c){this.firePix=c;window._tlUserCookied=window._tlUserCookied||false;};a.prototype.doSync=function(g,f,e,h){if(!window._tlUserCookied){window._tlUserCookied=true;this.firePix.fireEB("cset",{key:"tlcookieable",value:"true"},c);}var d=this;function c(){var k={nusp:h.numUserSyncPixels||"0",eb:h.ebPath,an:h.anIbPath,anId:h.anBidderId,dom:h.cookieDomain};if(g){k.debug=g;}var j=d.firePix.makeSrc(f,"userSync.html",k,false,"#");var i=document.createElement("iframe");i.src=j;i.width=0;
i.height=0;i.frameborder=0;i.style.display="none";document.body.appendChild(i);}};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/UserSync.js");(function(b){var c=function(d){this.nativeAdInfo=d;this.adDIV=d.adDIV;this.placementDetails=d.modules.placementDetails;this.util=d.modules.util;this.window=d.docInfo.window;this.setClickHandler();};c.prototype.getMainAdUnit=function(){return this.adDIV;};c.prototype.getCaption=function(){return this.adDIV.getElementsByClassName("caption")[0];};c.prototype.setClickHandler=function(){this.setAdHandler("click",d.bind(this),false);function d(j){var i=j.target||j.srcElement;var h=i.className.match("tlClickExempt");
var f=i.tagName==="A";if(h){return;}this.nativeAdInfo.analytics.click();if(!f){var g=this.nativeAdInfo.creative.params.clickthrough_url;this.nativeAdInfo.docInfo.window.open(g,"_blank");return false;}}};c.prototype.getAd=function a(){if(this.ad){return this.ad;}var e=this.nativeAdInfo.modules.placementDetails;if(e.customOptions&&e.customOptions.unwrappedUnit){return this.ad=this.adDIV;}this.ad=this.find(this.adDIV.children,d);return this.ad;function d(g){var h=["iframe","style","script","link","br","hr"];
var f=g.tagName;f=f&&f.toLowerCase&&f.toLowerCase();return h.indexOf(f)===-1;}};c.prototype.getMainImage=function(){if(this.mainImage){return this.mainImage;}return this.mainImage=this.getMainImageFromImgTag()||this.getMainImageEl();};c.prototype.getMainImageEl=function(){var f=this.adDIV.getElementsByTagName("*");var e=this.parseURI(this.nativeAdInfo.creative.params.image_url);var d=this.find(f,function(g){var h=g.style&&g.style["background-image"];var i=g.hasAttribute&&g.hasAttribute("data-background");
return(h&&h.match(e.query))||(i&&i.match(e.query));});return d;};c.prototype.getMainImageFromImgTag=function(){var d=this.adDIV.getElementsByTagName("IMG");var e=this.util.filter(d,this.isTlImage.bind(this));return this.largestImage(e);};c.prototype.getMainImageSrc=function(){var d=this.getMainImage();return d.src||d.style["background-image"]||d.hasAttribute("data-background");};c.prototype.setMainImageHandler=function(e,d,f){this.setDOMEvent(this.getMainImage(),e,d,f);};c.prototype.setAdHandler=function(e,d,f){this.setDOMEvent(this.getAd(),e,d,f);
};c.prototype.regsiterMainAdImage=function(d){this.mainImage=d;this.imageCached=true;};c.prototype.isTlImage=function(e){var d=[this.nativeAdInfo.creative.params.image_url,this.nativeAdInfo.modules.placementDetails.tlImageAddr];return e.src&&d.some(this.isMatch.bind(null,e.src));};c.prototype.largestImage=function(d){var e=0;var f=d.length;var g;var j,h;for(;e<f;e++){g=d[e];if(j){if(h<(g.width*g.height)){j=g;h=(g.width*g.height);}}else{j=g;h=g.width*g.height;}}return j;};c.prototype.getMainImageOffset=function(){var d=this.getMainImage();
if(!this.mainImage){return false;}return{left:d.offsetLeft,top:d.offsetTop};};c.prototype.getMainImageDimensions=function(){var g=this.getMainImage();if(!this.mainImage){return false;}var j=this.nativeAdInfo.cssHelper.getRealStyle(g);var i=parseInt(j.width);var d=parseInt(j.height);var h=i+"px";var e=d+"px";var f={};f.width=i;f.height=d;f.widthString=h;f.heightString=e;return f;};c.prototype.getMainImageStyleAttributes=function(e){var d=this.getMainImage();if(!d){return false;}return this.nativeAdInfo.cssHelper.getStyleAttributes(e,d);
};c.prototype.getClickThroughAnchor=function(){if(this.clickthroughAnchor){return this.clickthroughAnchor;}var d=this.nativeAdInfo.creative.params.clickthrough_url,e=this.getMainImage(),f=e.parentElement;var g=0;while(f&&g<5){if(f.href&&f.href.indexOf(d)>-1){this.clickthroughAnchor=f;return f;}f=f.parentElement;g++;}return false;};window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Ad.js");(function(c){var b=["Dummy","MSIE","Firefox","Chrome","Safari","Opera","iPhone","BlackBerry","Android"];var f=["Dummy","Windows Phone OS","Windows","Android","Linux","iPhone","iPod","iPad","Mac","BlackBerry"];var e=function(i){if(!i){return{b:"undisclosed",o:"undisclosed"};}var h=["Dummy","MSIE 7.0","MSIE 8.0","MSIE 9.0","MSIE 10.0"];var g={};g.o;g.b;var k,j;for(k=0,j=b.length;k<j;k++){if(i.match(b[k])){g.b=k;break;}}if(g.b===1){for(k=0,j=h.length;k<j;k++){if(i.match(h[k])){g.b=8+k;break;}}}if(i.match("rv:11.0")){g.b=13;
}if(g.b&&g.b===4){if(i.match("Android")&&i.match("Linux")){g.b=8;}if(i.match("BlackBerry")){g.b=7;}}for(k=0,j=f.length;k<j;k++){if(i.match(f[k])){g.o=k;break;}}return g;};var d=function(k,g,i,j,h){this.browserName=k;this.isMobile=g;this.isSafari=i;this.isIphone=j;this.isIpad=h;};var a=function(g){this.userAgent=g;};a.prototype.isMobile=function(){return this.userAgent.match(/blackberry|ipod|iphone|ipad|android/i);};a.prototype.isIphone=function(){return this.userAgent.match(/iphone/i);};a.prototype.isIpad=function(){return this.userAgent.match(/ipad/i);
};a.prototype.getBrowserInfo=function(){var i=e(this.userAgent);var l=b[i.b];var g=!!this.isMobile();var k=!!this.isIphone();var h=!!this.isIpad();var j=i.b==4;return new d(l,g,j,k,h);};window._tlModuleLoader.onReady(c,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/BrowserDetector.js");(function(b){var c=function(){this.done=false;};c.prototype.serve=function(h,i){if(this.done||h.adRendered){return;}h.hasDefaulted=true;this.done=true;var f=new h.modules.Render(h.docInfo),d=h.modules.placementDetails.defaultCode,g=h.hook,e=h.docInfo;a(f,d,g,e);h.analytics.viewabilityStartRenderDefault(i);};c.prototype.setTimeout=function(h,d,e,g){var f=this;h[d]=false;setTimeout(function(){if(!h[d]){f.serve(h,e);}},g);};function a(g,d,h,f){if(d){if(f.scriptWindow!=top){g.serveDefaultFrame(d,f.scriptWindow.document);
}else{var e=g.wrapAd(d);g.insertAd(e,h);}}}window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ServeDefault.js");(function(a){var b=function(c){this.nativeAdInfo=c;this.document=c.docInfo.document;};b.prototype.buildAuctionPath=function(){var d=this.nativeAdInfo;var e=d.modules.placementDetails;var c=["member="+e.adnxsMemberID,"st="+(d.modules.util.isMobile()?"mobile_web":"web")];var f=["inv_code="+e.invCode,"cb="+Math.floor(89999999*Math.random()+10000000),"referrer="+encodeURIComponent(this.document.URL),"imp_id="+d.firePix.impID||""];if(!d.tlxAuction){c.forEach(function(g){f.push(g);});}return this.createAuctionPathWithParams(d.auctionPath,d.debugMessenger,f);
};b.prototype.createAuctionPathWithParams=function(d,f,e){f=f||{};var c=f.tlBidParms;if(c){return d+c;}d=d+"?"+e.join("&");if(f.debugFlag){d+="&test=true";}return d;};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/AuctionPathBuilder.js");(function(b){var a=function(f,d,c,e){e=e||{};this.src=f;this.width=d;this.height=c;this.isAdChoices=e.isAdChoices||false;};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Button.js");(function(a){var b=function(d){this.nativeAdInfo=d;this.document=d.docInfo.document;this.window=d.docInfo.window;var c=this.document.createElement("IFRAME");c.style.display="none";this.document.body.appendChild(c);c.contentWindow.document.open();c.contentWindow.document.write("<html><head></head><body></body></html>");c.contentWindow.document.close();this.auctionIFRAME=c;this.hasBeenRun=false;};b.prototype.onError=function(d,c){if(this.nativeAdInfo.errorDecorator){this.nativeAdInfo.errorDecorator.fireError(d,"run");
}};b.prototype.run=function(d){var g=this.auctionIFRAME;if(this.hasBeenRun){this.onError("auction has already been run","run");return;}this.hasBeenRun=true;var c=d.iframeInfo.useIFRAME;if(!c){try{var f=g.contentWindow.document.createElement("SCRIPT");f.src=d.pathToAuction;g.contentWindow.document.body.appendChild(f);}catch(j){this.onError(j,"run");}}else{try{var k=g.contentWindow.document.createElement("IFRAME");var i=function(e){if(e.data!=="sourcedReady"){return;}var l=this.removeReferrer(d.pathToAuction);
k.contentWindow.postMessage(l,"*");};this.setDOMEvent(g.contentWindow,"message",i.bind(this));k.src=d.iframeInfo.src;g.contentWindow.document.body.appendChild(k);}catch(j){this.onError(j,"run");}}var h=this.nativeAdInfo.modules.placementDetails.timeoutDuration;this.nativeAdInfo.serveDefault.setTimeout(this.nativeAdInfo,"auctionComplete","auction_timeout",h);};b.prototype.removeReferrer=function(g){var d=this.parseURI(g);var c=this.removeKeys(d.queryKey,"referrer");var f=this.stringifyParamsObj(c);
var e=g.split("?")[0];return e+"?"+f;};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/AuctionRunner.js");(function(b){var a=function(d){this.x1=parseInt(d.getBoundingClientRect().left,10);this.y1=parseInt(d.getBoundingClientRect().top,10);this.width=d.offsetWidth;this.height=d.offsetHeight;this.x2=this.x1+this.width;this.y2=this.y1+this.height;};a.prototype.containsPoint=function(d){return(this.x1<=d.x)&&(this.x2>=d.x)&&(this.y1<=d.y)&&(this.y2>=d.y);};var c=function(e,d){this.progressBarElement=e.pb;this.currentVal=this.progressBarElement.value=0;this.block=e.block;this.maxVal=parseInt(this.progressBarElement.max);
this.interval=50;this.cb=d;};c.prototype.startMonitoring=function(){this.canceled=false;var e=this;var d=function(){if(e.canceled){return;}e.currentVal+=e.interval;e.progressBarElement.value=e.currentVal;if(e.currentVal>=e.maxVal){e.goalReached();}else{setTimeout(function(){d();},e.interval);}};d();};c.prototype.goalReached=function(){this.clearDOMEvents(this.block);this.progressBarElement.style.display="none";this.cb({preventDefault:function(){}});};c.prototype.cancelMonitoring=function(){this.canceled=true;
this.currentVal=0;this.progressBarElement.value=0;};c.prototype.monitor=function(){var f=this;var e=function(g){f.progressBarElement.style.display="";f.startMonitoring();};var d=function(i){var h=new a(f.block);var g={x:i.clientX,y:i.clientY};if(!h.containsPoint(g)){f.currentVal=0;f.progressBarElement.style.display="none";f.cancelMonitoring();}};this.setDOMEvent(this.block,"mouseover",e);this.setDOMEvent(this.block,"mouseout",d);};window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ProgressBarController.js");(function(b){var a=function(f){var g=f.creative.settings,c=f.creative.assets||f.creative.images,h=f.placementDetails,i=f.templateDetail,d=f.clickTrackerDTJ,e=f.tlImageId;this.thirdPartyMacros=f.thirdPartyMacros;this.docInfo=f.docInfo;this.params=this.makeParams(g,c,h,i,d,e);};a.prototype.makeParams=function(h,o,r,m,e,n){if(!h||!o||!r){return;}var c=this.selectImage(o,n)||this.selectRandomImage(o);var i=this.flattenParams(h,c);this.caption=i.caption;var d=i.image_url;var k=r.tlImageAddr;this.w600URL=this.createPinterestURL(d,k);
this.originalClickThroughURL=i.clickthrough_url;var p=i.clickthrough_url;var g=i.click_tracker_encoding_level;var l=i.click_tracker_url;i.clickthrough_url=this.createClickThroughURL(e,l,p,r,g);var f=i.impression_pixels;var j=i.js_pixels;var q=i.viewability_pixels;i.thirdPartyTrackers=this.createThirdPartyTrackers(f,j,q,r.id);i.caption=this.truncateString(i.caption,r.captionCharacterLimit);i.heading=this.truncateString(i.heading,100);i.isCSR=this.isCSR(i.client_side_render,i.image_id);if(!i.isCSR){i.image_url=this.createDynamicImageURL(i,r,m);
}return i;};a.prototype.flattenParams=function(c,d){var e;if(c.type==="video2"){e=this.objMerge(d,c);}else{if(c.type==="youtube"){e=this.objMerge(c.video_data,d,c);}else{if(c.video_data){d.creative_type=c.video_data.type;delete c.video_data.type;}e=this.objMerge(c.video_data,d,c);}}e.logo_image_url=e.logo_image_url||e.light_logo_url;return e;};a.prototype.createThirdPartyTrackers=function(f,d,c,h){var e=this.expandThirdPartyMacros.bind(this,h);var g=this.map;var i={};i.impressionPixels=g(f,e);i.javascriptPixels=g(d,e);
i.viewabilityPixels=g(c,e);return i;};a.prototype.createPinterestURL=function(c,d){return"//"+d+"/?width=600&alt=max&url="+encodeURIComponent(c);};a.prototype.createClickThroughURL=function(c,e,f,g,h){var d=g.id;e=this.expandThirdPartyMacros(d,e);c=this.expandThirdPartyMacros(d,c);f=this.expandThirdPartyMacros(d,f);if(e){f=this.encodeClickThroughURL(f,h);}f=this.prependDynamic(e,f);f=this.prependDTJ(c,f);f=this.prependCookie(g,f);return f;};a.prototype.prependDynamic=function(c,d){return(c||"")+d;
};a.prototype.prependDTJ=function(c,d){if(c){c=decodeURIComponent(c);d=encodeURIComponent(d);return c+d;}return d;};a.prototype.prependCookie=function(f,d){if((navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)){var c=f.engagementBusAddr+"/getuid?redir=";var e=encodeURIComponent(d);return"//"+c+e;}return d;};a.prototype.encodeClickThroughURL=function(c,d){d=parseInt(d,10);if(isNaN(d)){d=1;}while(d--){c=encodeURIComponent(c);}return c;
};a.prototype.expandThirdPartyMacros=function(f,g){if(!g){return undefined;}var e=["${CACHEBUSTER}","[CACHEBUSTER]","[RANDOM_NUMBER]"];for(var d=0;d<e.length;d++){g=g.replace(e[d],this.randInt(10000000000));}g=g.replace("[PLACEMENT_ID]",f);g=g.replace("[timestamp]",new Date().getTime());var c=this.docInfo.topDocument?this.docInfo.topDocument.URL:"";g=g.replace("[DOMAIN]",this.parseURI(c).host);this.forEachObj(this.thirdPartyMacros,function(h,i){if(h[0]==="%"){h="$"+h.slice(1);g=g.replace(h,i);}});
return g;};a.prototype.createDynamicImageURL=function(g,d,f){if(!g.image_url){throw new Error("no image url");}var i=d.tlImageAddr;var h=[];var e=f.width||(d.imageWidth==="0"?NaN:d.imageWidth);var c=f.height||(d.imageHeight==="0"?NaN:d.imageHeight);h.push("width="+e);h.push("height="+c);h.push("url="+encodeURIComponent(g.image_url));if(!this.areCornersAvailable(d.logoBlackList)){g.img_server_params=g.img_server_params.replace("logo=","ulogo=");}else{h.push("logo_exclude="+d.logoBlackList);}return"//"+i+"?"+h.join("&")+"&"+g.img_server_params;
};a.prototype.areCornersAvailable=function(c){if(!c){return true;}var d=["NE","SE","SW","NW"];for(var e=0;e<d.length;e++){if(c.indexOf(d[e])<0){return true;}}return false;};a.prototype.selectImage=function(c,d){if(d){for(var e=0;e<c.length;e++){if(d==c[e].image_id){return c[e];}}}return false;};a.prototype.selectRandomImage=function(c){var d=Math.floor(Math.random()*c.length);return c[d];};a.prototype.isCSR=function(c,d){return c||parseInt(d,10)<0;};a.prototype.truncateString=function(d,e){var c=parseInt(e,10);
if(c&&c>2&&d.length>c){d=d.substr(0,c-3)+"...";}return d;};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Creative.js");(function(b){var f=function(g){this.nativeAdInfo=g.nativeAdInfo;this.errorDecorator=this.nativeAdInfo.errorDecorator||{decorate:function(h){return h;}};this.docInfo=g.docInfo;this.dynamicHostName=g.dynamicHostName;this.moduleLoader=g.moduleLoader;this.onCreativeJSONLoaded=g.onCreativeJSONLoaded;this.debug=g.debug;this.unitGenerated=false;};f.prototype.tlAdvertiserJSON=function d(g){this.moduleLoader.onReady(this.addr,g);};f.prototype.genericGetCreativeJSON=function c(g,i,h){if(this.unitGenerated){return;
}this.unitGenerated=true;if(this.debug){this.addr+=("?rsv="+Math.round(Math.random()*100000000));}var j=this.nativeAdInfo.modules.placementDetails.timeoutDuration;this.nativeAdInfo.serveDefault.setTimeout(this.nativeAdInfo,"dynamicComplete","dynamic_timeout",j);this.moduleLoader.overrideAddrImpt(this.addr,this.onCreativeJSONLoaded,this.docInfo.document);this.nativeAdInfo.analytics.loadPostAuctionParams({auction_id:g||0,user_id:i||0,pixel:h});};f.prototype.getCreativeJSONDirect=function a(g){this.addr="//"+this.dynamicHostName+"/sc/advertiser/jsonp/"+g;
this.genericGetCreativeJSON();};f.prototype.getCreativeJSON2=function e(i){var g=i.auction_id;var h=i.user_id;var j=i.campaign_code.match(/[0-9]+/)[0];var k=i.campaign_code.indexOf("_ghost_")>-1;this.nativeAdInfo.analytics.setIsGhost(k);this.addr="//"+this.dynamicHostName+"/sc/advertiser/jsonp/"+j;this.genericGetCreativeJSON(g,h,i.pixel);};f.prototype.get3PUnit=function(g,h,j,m,o,l){var i=["36968218","37030734"];if(i.indexOf(g)>-1){var n="id: "+g+", pixel: "+h+", tagCode: "+j+", auctionID: "+m+", userID: "+o+", thirdPartyMacros: "+JSON.stringify(l);
var k=document.createElement("img");k.width=0;k.height=0;k.src="//eb.3lift.com/dyn?string1="+encodeURIComponent(n);document.body.appendChild(k);}this.thirdPartyMacros=l||{};this.addr="//"+this.dynamicHostName+"/sc/bidder/jsonp/"+g;this.genericGetCreativeJSON(m,o,h);};f.prototype.getExtUnit=function(k,j,h,g,i){this.addr="//"+this.dynamicHostName+"/sc/bidder/"+h+"/jsonp/"+k;this.genericGetCreativeJSON(g,i,j);};f.prototype.dynamicCreativeRender=function(){var g=Array.prototype.slice.call(arguments);
this.onCreativeJSONLoaded({creativePayloads:g});};f.prototype.serveDefault=function(i,g,h){var j=this.nativeAdInfo;j.analytics.loadPostAuctionParams({auction_id:g,user_id:h});j.serveDefault.serve(j,i);};f.prototype.registerAuctionListeners=function(){var g=this;var h={get_unit_2:this.wrap(this.getCreativeJSON2),get_3p_unit:this.wrap(this.get3PUnit),get_ext_unit:this.wrap(this.getExtUnit),dynamicCreativeRender:this.wrap(this.dynamicCreativeRender),tl_advertiser_json:this.wrap(this.tlAdvertiserJSON),serveDefault:this.wrap(this.serveDefault)};
this.objMap(h,function(i,j){g.docInfo.window[i]=j;});};f.prototype.wrap=function(i){var h=this;var g=this.errorDecorator.decorate(i);return function(){h.nativeAdInfo.auctionComplete=true;return g.apply(h,arguments);};};window._tlModuleLoader.onReady(b,f);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/GetCreativeJSON.js");(function(a){var c=10;var d="tl_src";var b=function(){};b.prototype.parse=function(r,l){var m=r.indexOf("tl_multi_template")>-1,r=this.transformMacroSourceAttributes(r),s=this.makeTemplateWrapEl(r),f=[],g;if(m){for(var k=1;k<=c;k++){var p=this.getTemplate(s,k);if(!p){continue;}var o=(k===l);if(o){for(var h=1;h<=k;h++){var n=this.getSubTemplate(p,k,h),e=parseInt(n.getAttribute("data-width")),q=parseInt(n.getAttribute("data-height"));n.parentElement.removeChild(n);f.push({string:n.innerHTML,width:e||null,height:q||null});
}g=p;}else{p.parentElement.removeChild(p);}}}else{g=s;f.push({string:g.innerHTML});this.removeAllChildren(g);}this.templateDetails=f.map(this.replaceMacroSourceAttributes);this.chosenTemplate=g;this.templateWrapEl=s;};b.prototype.transformMacroSourceAttributes=function(e){return e.replace(/src([="'\s]+%%%)/gi,d+"$1");};b.prototype.replaceMacroSourceAttributes=function(f){var e=new RegExp(d,"g");f.string=f.string.replace(e,"src");return f;};b.prototype.getTemplate=function(e,f){return e.getElementsByClassName("tl_template_"+f)[0];
};b.prototype.getSubTemplate=function(f,g,e){return f.getElementsByClassName("tl_template_"+g+"_"+e)[0];};b.prototype.makeTemplateWrapEl=function(e){var f=document.createElement("div");f.innerHTML=e;return f;};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/TemplateCode.js");(function(b){var c=function(e){this.document=e.document;this.window=e.window;};c.prototype.wrapAd=function(f){this.htmlString=f;var e=this.document.createElement("DIV");e.style.display="inline";if(this.needsHTML5){e=this.wrapDivHTML5(e);}e.innerHTML=f;return e;};c.prototype.unwrapAd=function(e){var g=e.children;e=g[0];for(var f=1;f<g.length;f++){e.appendChild(g[f]);}return e;};c.prototype.insertAd=function(e,f){f.parentNode.insertBefore(e,f);d(e);return e;};c.prototype.serveDefaultFrame=function(e,f){f.open();
f.write(e);f.close();};c.prototype.wrapDivHTML5=function(j){var h=this.document.createDocumentFragment();var e="abbr article aside audio canvas datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" ");var f=0,g=e.length;for(f;f<g;f++){h.createElement(e[f]);}h.appendChild(j);};c.prototype.needsHTML5=(function(){var e=this.document.createElement("DIV");e.innerHTML="<article></article>";return e.childNodes.length!==1;})();function d(g){if(g.tagName==="SCRIPT"){g.parentNode.replaceChild(a(g),g);
}else{var f=0;var e=g.childNodes;while(f<e.length){d(e[f++]);}}return g;}function a(f){var g=document.createElement("SCRIPT");g.text=f.innerHTML;var e=f.attributes.length-1;for(;e>=0;e--){g.setAttribute(f.attributes[e].name,f.attributes[e].value);}return g;}window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Render.js");(function(a){var b=function(c){this.nativeAdInfo=c;};b.prototype.getHook=function(e,d,j,f){var i=e.window,h=e.document,f=parseInt(f,10),c,g;c=h.getElementsByTagName("SCRIPT"),g=this.getTLScript(d,j,c);if(i!=top&&(this.nativeAdInfo.topIsAccessible)){g=this.getTopFrame(i);}else{if(!g){g=this.getTLScript(d,j,this.nativeAdInfo.additionalHookCandidates);}}while(f){g=g.parentNode;f--;}return g;};b.prototype.getDynamicCreativePseudoId=function(){if(!this.script){return false;}return this.script.getAttribute("data-dynamic-creative-id");
};b.prototype.getScriptPath=function(){var c=this.getScriptSrc();return this.parseURI(c).path;};b.prototype.getScriptSrc=function(){if(!this.script){return"";}return this.script.getAttribute("data-src")||this.script.src;};b.prototype.hideHook=function(c){c.style.display="none";c.style.visibility="hidden";c.style.width="0px";c.style.height="0px";};b.prototype.getTopFrame=function(c){var d;while(c!=top){d=c.frameElement;c=c.parent;}return d;};b.prototype.getTLScript=function(d,h,c){if(this.script){return this.script;
}if(!d||!h||!c){return false;}var g,e,f;for(g=0;g<c.length;g++){e=c[g];f=e.getAttribute("tl_id");if(this.scriptSrcContains(e,d)&&this.scriptSrcContains(e,h)&&!f){e.setAttribute("tl_id",Math.round(Math.random()*100000));this.script=e;return e;}}};b.prototype.scriptSrcContains=function(c,f){if(!f){return false;}var h=c.src;var e=c.getAttribute("data-src");var g=h&&h.indexOf(f)>-1;var d=e&&e.indexOf(f)>-1;return !!(g||d);};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/HookFinder.js");(function(b){var c=function(d){this.docInfo=d.docInfo;this.placementDetails=d.placementDetails;this.ad=d.ad;this.viewabilityElement=d.ad.getAd();this.tacticDetails=d.tacticDetails||{};};c.prototype.appendTags=function a(e){e=this.addViewabilityTestPixels(e);var h=this.getIntegrations();for(var g=0;g<e.length;g++){var k=e[g];var d=false;for(var f=0;f<h.length;f++){if(k&&k.match&&k.match(h[f].regex)){h[f].action(k);d=true;break;}}!d&&this.defaultAction(k);}};c.prototype.getViewabilityID=function(){if(!this.viewabilityID){this.viewabilityID="tltpvid_"+Math.round(Math.random()*100000);
this.viewabilityElement.id=this.viewabilityID;}return this.viewabilityID;};c.prototype.appendScriptVE=function(g){var e=this.docInfo.document.createElement("SCRIPT");var d=this.ad.getMainImage();if(d.nextSibling){d.parentNode.insertBefore(e,d.nextSibling);}else{var f=this.docInfo.document.createElement("IMG");f.style.display="none";d.parentNode.insertBefore(f,d);f.parentNode.insertBefore(d,f);f.parentNode.insertBefore(e,d.nextSibling);f.parentNode.removeChild(f);}e.src=g;};c.prototype.appendScriptAd=function(e){var d=this.docInfo.document.createElement("SCRIPT");
this.ad.adDIV.appendChild(d);d.src=e;};c.prototype.defaultAction=function(e){var d=this.docInfo.document.createElement("SCRIPT");this.viewabilityElement.appendChild(d);d.src=e;};c.prototype.interpolateDimensions=function(e){var d=this.ad.getMainImageDimensions();e=e.replace("[WIDTH]",d.width);e=e.replace("[HEIGHT]",d.height);e=e.replace("[CONTAINER_ID]",this.getViewabilityID());return e;};c.prototype.getIntegrations=function(){var d=this;var e=[{regex:/cdn\.doubleverify/,action:function(f){f=f.replace(/INSERT_SUPPLIER_ID/,"TripleLift");
f=f.replace("[PLACEMENT_ID]",d.placementDetails.id);f=f.replace(/INSERT_BTREG/,d.getViewabilityID());f=f.replace(/INSERT_BTADSRV/,d.getViewabilityID());d.appendScriptVE(f);}},{regex:/adsafeprotected/,action:function(f){f=f.replace("$!{AD_ID}",d.placementDetails.id);if(typeof(d.tacticDetails.advid)!="undefined"){f=f.replace("$!{ADVERTISER_ID}",d.tacticDetails.advid);f=f.replace("$!{INSERTION_ORDER_ID}",d.tacticDetails.ioid);}else{f=f.replace("$!{ADVERTISER_ID}","0");f=f.replace("$!{INSERTION_ORDER_ID}",d.tacticDetails.bmid);
}d.appendScriptVE(f);}},{regex:/voicefive/,action:function(f){f=f.replace("[PLACEMENT_ID]",d.placementDetails.placementID);d.appendScriptVE(f);}},{regex:/js\.moatads/,action:function(f){f=f.replace("[PLACEMENT_ID]",d.placementDetails.id);f=f.replace("[TLVIEW_ID]",d.getViewabilityID());if(typeof(d.tacticDetails.advid)!="undefined"){f=f.replace("_ADVERTISER_",d.tacticDetails.advid);f=f.replace("_CAMPAIGN_",d.tacticDetails.ioid);f=f.replace("_LINEITEM_",d.tacticDetails.liid);}else{f=f.replace("_ADVERTISER_","0");
f=f.replace("_CAMPAIGN_",d.tacticDetails.bmid);f=f.replace("_LINEITEM_",d.tacticDetails.brid);}d.appendScriptAd(f);}},{regex:/z\.moatads/,action:function(f){f=f.replace("[PLACEMENT_ID]",d.placementDetails.id);f=f.replace("[TLVIEW_ID]",d.getViewabilityID());if(typeof(d.tacticDetails.advid)!="undefined"){f=f.replace("_ADVERTISER_",d.tacticDetails.advid);f=f.replace("_CAMPAIGN_",d.tacticDetails.ioid);f=f.replace("_LINEITEM_",d.tacticDetails.liid);}else{f=f.replace("_ADVERTISER_","0");f=f.replace("_CAMPAIGN_",d.tacticDetails.bmid);
f=f.replace("_LINEITEM_",d.tacticDetails.brid);}d.appendScriptAd(f);}},{regex:/c\.betrad/,action:function(f){f=d.interpolateDimensions(f);d.appendScriptAd(f);}},{regex:/choices\.truste/,action:function(f){f=d.interpolateDimensions(f);d.appendScriptAd(f);}}];return e;};c.prototype.addViewabilityTestPixels=function(e){var d=this.placementDetails.viewabilityTestingInfo;var h=this.getDateString();if(d.ias&&d.ias.startDate<=h){var g=d.ias.samplingRate;if(Math.random()<g){e.push("http://pixel.adsafeprotected.com/jload?anId=8617&advId=$!{ADVERTISER_ID}&campId=$!{INSERTION_ORDER_ID}&pubId=$!{INVENTORY_SOURCE_ID}&chanId=$!{PACKAGE_ID}&placementId=$!{AD_ID}&adsafe_url=$!{SITE_URL}&adsafe_type=v");
}}if(d.moat&&d.moat.startDate<=h){var f=d.moat.samplingRate;if(Math.random()<f){e.push("http://js.moatads.com/triplelift879988051105/moatad.js#moatClientLevel1=_ADVERTISER_&moatClientLevel2=_CAMPAIGN_&moatClientLevel3=_LINEITEM_&moatClientLevel4=_CREATIVE_&moatClientSlicer1=[PLACEMENT_ID]&moatClientSlicer2=-&tlview_id=[TLVIEW_ID]");}}return e;};window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ThirdPartyJS.js");(function(b){var a=function(f){var d=f.match(/^[A-Za-z0-9]+/);var c=f.match(/#([A-Za-z0-9]|\-|_)+/);var g=f.match(/\.([A-Za-z0-9]|\-|_)+/g);if(d){this.tagName=d[0];}if(c){this.id=c[0].split("#")[1];}if(g){this.classNames=[];var e=this;g.forEach(function(h){e.classNames.push(h.split(".")[1]);});}};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Selector.js");(function(a){var b=function(c,d){this.code=c;this.src=d;};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ShareType.js");(function(b){var a=function(c,f,e,d){this.docInfo=c;this.firePix=e;this.placementDetails=f;this.thirdPartyTrackers={};this.fireEB=e.fireEB.bind(e);};a.prototype.loadPreAuctionParams=function(d,c){this.vsParams={inv_code:this.placementDetails.invCode,pl:this.placementDetails.id,ref:encodeURIComponent(this.docInfo.document.URL),domain:encodeURIComponent(this.docInfo.document.domain),as:d?1:0,rev:c};};a.prototype.loadPostAuctionParams=function(c){this.auctionParams={aid:c.auction_id,uid:c.user_id};this.auctionPixel=c.pixel;
};a.prototype.loadPostDynamicParams=function(c){this.creative=c;this.creativeParams=c.params.additional_data||{};this.creativeParams.caid=c.params.asset_id;this.rParams=this.objMerge(this.auctionParams,this.creativeParams,{rr:"creative",g:this.isGhost?1:0,gp:this.isGhostPub?1:0});this.vsrParams=this.objMerge(this.vsParams,this.rParams);var d=c.params.video_enabled||c.params.type==="video"||c.params.video==="video2";this.auctionPixelEvent=c.params.adnxs_pix_event||(d?"video_start":"click");if(d){this.videoLengthMS=c.params.length_seconds*1000;
}};a.prototype.engagementStart=function(c){var d=c.getAd();this.setSmartMouseover(d);};a.prototype.setSmartMouseover=function(h){var c=false,e=700,g=this.mouseover.bind(this);this.setDOMEvent(h,"mouseenter",d);this.setDOMEvent(h,"mouseleave",f);function d(){c=true;setTimeout(function(){c&&g();},e);}function f(){c=false;}};a.prototype.viewabilityStart=function(){this.fireEB("vs",this.vsParams);this.isViewabilityStartFired=true;};a.prototype.render=function(){this.fireEB("r",this.rParams);this.thirdParty();
};a.prototype.viewabilityStartRender=function(){this.fireEB("vsr",this.vsrParams);this.thirdParty();};a.prototype.viewabilityStartRenderDefault=function(d){var c=this.objMerge(this.auctionParams,this.creativeParams,{rr:d});if(this.isViewabilityStartFired){this.fireEB("r",c);}else{c=this.objMerge(c,this.vsParams);this.fireEB("vsr",c);}};a.prototype.viewable=function(){this.fireEB("ev",this.creativeParams);};a.prototype.mouseover=function(){this.fireEB("em",this.creativeParams);};a.prototype.click=function(){if(this.auctionPixelEvent==="click"){this.firePix.fire(this.auctionPixel);
}this.fireEB("ec",this.creativeParams);this.fireEB("px",{add:3006});};a.prototype.share=function(d){var c=this.objMerge(this.creativeParams,{st:d.toUpperCase()});this.fireEB("es",c);};a.prototype.duration=function(c){var d=this.objMerge(this.creativeParams,{duration:c,video_length:this.videoLengthMS});this.fireEB("evd",d);};a.prototype.play=function(){if(this.auctionPixelEvent==="video_start"){this.firePix.fire(this.auctionPixel);this.fireEB("px",{add:3007});}};a.prototype.thirdParty=function(){if(this.isGhost){return;
}var e=this.firePix.fire.bind(this.firePix);var c=this.firePix.fireJS.bind(this.firePix);var f=this.creative.params.thirdPartyTrackers.impressionPixels;var d=this.creative.params.thirdPartyTrackers.javascriptPixels;this.forEach(f,e);this.forEach(d,c);this.fireImpPixDyn(f);};a.prototype.fireEVE=function(d){var c={mute:1,unmute:2,expand:3,collapse:4,clickPaused:5};this.fireEB("eve",{et:c[d]});};a.prototype.fireImpPixDyn=function(c){var d=this.firePix.fireDyn.bind(this.firePix);if(Math.random()<0.01){this.forEach(c,function(f){var g=encodeURIComponent(f.slice(0,64));
var e=encodeURIComponent(f.slice(64,128));d(null,70001,null,g,e);});}};a.prototype.setIsGhost=function(c){this.isGhost=c;};a.prototype.setIsGhostPub=function(c){this.isGhostPub=c;};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/Analytics.js");(function(a){var b=function(e){var d=false;var f=0;var g;var c;this.setStart=function(h){g=h;c=undefined;d=true;};this.setStop=function(h){if(!d){return;}c=h;d=false;f+=(c-g);};this.getDuration=function(){var h;if(d){h=f+(new Date().getTime()-g);}else{h=f;}if(h>e){h=e;}return h;};};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/DurationMonitor.js");(function(a){var b=function(c){this.document=c.document;this.window=c.window;};b.prototype.getWin=function(){try{this.window.frameElement;if(this.window.top===this.window.self){this.isNestedWindow=false;return this.window;}return this.window.top;}catch(c){return this.window;}};this.window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/WindowDetector.js");(function(c){var e=0;var d=1;var b=0;var f=function(g,h){this.nativeAdInfo=g;this.errorDecorator=this.nativeAdInfo.errorDecorator||{decorate:function(i){return i;}};this.ad=g.ad;this.creative=g.creative;this.videoType=this.creative.params.creative_type||this.creative.params.type;this.topDocument=g.docInfo.topDocument;this.topwindow=g.docInfo.topWindow;this.onVideoLoaded=h;this.fadeTimeMS=500;this.invCode=g.modules.placementDetails.invCode;this.setConfig();};f.prototype.wrap=function(g){var h=this;
return function(j,i){h[g](j,i);};};f.prototype.setConfig=function(){this.config={playButtonSettings:{width:0.3,alignment:"center",showOnHover:false},playerSettings:{videoID:this.nativeAdInfo.creative.params.video_id||this.nativeAdInfo.creative.params.videoId,showControls:parseInt(this.nativeAdInfo.creative.params.expose_controls,10),displayMethod:b}};this.setTriggerAction();};f.prototype.hideSumome=function(){var j=this;var h=0;i();function i(){h++;var l=j.nativeAdInfo.docInfo.document;var k=l.getElementsByClassName("sumome-image-sharer")[0];
if(k){g(k);}else{if(h<2){setTimeout(i.bind(j),3000);}}}function g(k){k.style.height="0";k.style.width="0";var m=k.children;for(var l=0;l<m.length;l++){m[l].style.display="none";}}};f.prototype.triggers={click:{autoPlay:true,triggerAction:e},play:{autoPlay:true,triggerAction:d},progress:{autoPlay:true,triggerAction:d,useProgressBar:true},none:{autoPlay:false,triggerAction:d,showControls:1}};f.prototype.setTriggerAction=function(){var g=this.triggers[this.nativeAdInfo.creative.params.hover_action];
this.config.triggerAction=g.triggerAction;if(g.autoPlay){this.config.autoPlay=g.autoPlay;}if(g.showControls){this.config.playerSettings.showControls=g.showControls;}if(g.useProgressBar){this.config.useProgressBar=g.useProgressBar;}};f.prototype.callExternalAPI=function(g){var i=this.externalAPI[g];if(!i){i=function(){};}var h=this;return function(){i.apply(h.externalAPI,arguments);};};f.prototype.initializeVideo=function(){var i;if(this.nativeAdInfo.errorDecorator){var g=this.nativeAdInfo.errorDecorator;
i=function(j){return g.decorate(j);};}else{i=function(j){return j;};}var h=new this.nativeAdInfo.modules.EventController(i);h.first(this.wrap("clearImageStyling"),{});h.next(this.wrap("setCaptionForMSN"));h.next(this.wrap("setPlayerHook"));h.next(this.wrap("createWrappedPlayer"));h.next(this.wrap("setExternalAPITable"));h.next(this.wrap("loadExternalAPI"));h.next(this.wrap("setPlayButton"));h.next(this.wrap("setTriggerHandler"));h.next(this.wrap("setButtons"));h.next(this.wrap("setToggling"));h.next(this.wrap("preventDefaultClickThrough"));
h.run();this.onVideoLoaded();};f.prototype.setButtons=function(h,g){this.callExternalAPI("setButtons")();g(h);};f.prototype.setCaptionForMSN=function(j,g){if(this.invCode==="msn_main_river"){var h=this.ad.getCaption();if(h){var i=this.nativeAdInfo.cssHelper.getRealStyle(h);h.style.setProperty("padding",i.padding);h.style.setProperty("margin",i.margin);h.style.setProperty("margin-left",i.marginLeft);}}g(j);};f.prototype.createWrappedPlayer=function(o,i){var k=this.hook.style.width;var m=this.hook.style.height;
var j=this.topDocument.createElement("DIV");j.id="pd_"+Math.round(Math.random()*10000);var n=this.topDocument.createElement("DIV");n.id="wpd_"+j.id;n.appendChild(j);n.style.width=k;n.style.height=m;n.style.position="absolute";this.nativeAdInfo.cssHelper.clearPMFB(n);this.nativeAdInfo.cssHelper.safeSetZindex(0,n);var l=j.id;var g=n.id;this.wrappedPlayerInfo={wrappedPlayer:n,playerID:j.id,wrappedDivID:n.id};i(o);};f.prototype.setExternalAPITable=function(h,g){this.externalAPIs={};if(this.nativeAdInfo.modules.SimpleVideoIFRAME){this.externalAPIs["503"]=this.nativeAdInfo.modules.SimpleVideoIFRAME;
this.externalAPIs["502"]=this.nativeAdInfo.modules.SimpleVideoIFRAME;}if(this.nativeAdInfo.modules.YouTubeAPI){this.externalAPIs.youtube=this.nativeAdInfo.modules.YouTubeAPI;this.externalAPIs["1"]=this.nativeAdInfo.modules.YouTubeAPI;}g(h);};f.prototype.loadExternalAPI=function(h,g){this.externalAPI=new this.externalAPIs[this.videoType](this);this.callExternalAPI("load")(h,g);};f.prototype.clearImageStyling=function(h,g){g(h);};f.prototype.determinePlayerHookPosition=function(){var h=this.nativeAdInfo.ad.getMainImage();
var i=this.nativeAdInfo.cssHelper.getRealStyle(h);var g={name:"position"};if(i.position=="absolute"){g.value="absolute";}else{g.value="relative";}return g;};f.prototype.determinePlayerHookLeft=function(){return{name:"left",value:"0px"};};f.prototype.determinePlayerHookTop=function(){return{name:"top",value:"0px"};};f.prototype.setHookStyleAttributes=function(){var l=this.nativeAdInfo.ad;var i=l.getMainImageDimensions();var m=i.widthString;var j=i.heightString;var h=["padding","float","margin","border"];
var g=this.nativeAdInfo.ad.getMainImageStyleAttributes(h);g.push(this.determinePlayerHookPosition());g.push(this.determinePlayerHookLeft());g.push(this.determinePlayerHookTop());g.push({name:"overflow",value:"hidden"});g.push({name:"width",value:m});g.push({name:"height",value:j});var k=this.hook.style;g.forEach(function(n){k.setProperty(n.name,n.value,"important");});};f.prototype.setPlayerHook=function(j,g){var i=this.nativeAdInfo.ad;var h=i.getMainImage();var k=this.hook=this.topDocument.createElement("DIV");
this.setHookStyleAttributes();h.parentNode.insertBefore(k,h);k.appendChild(h);this.setHookZIndex(k);g(j);};f.prototype.setHookZIndex=function(h){var g=["fansided_main_largefeature"];if(g.indexOf(this.invCode)>-1){this.nativeAdInfo.cssHelper.move2FrontStackingContext(h,h.parentNode);}};f.prototype.determinePlayButtonDimensions=function(){var i={};var k=115;var l=83;var n=this.nativeAdInfo.ad;var g=n.getMainImageDimensions();var m=g.width;var o=g.height;var j=k/l;var h=this.config.playButtonSettings.width;
i.width=Math.round(h*m);if(i.width>k){i.width=k;}i.height=Math.round((1/j)*i.width);this.playButtonDimensions={width:i.width,height:i.height,widthString:i.width+"px",heightString:i.height+"px"};};f.prototype.setPlayButton=function(i,g){this.determinePlayButtonDimensions();var j=this.nativeAdInfo.buttonManager;var h=new this.nativeAdInfo.modules.Button(this.assets.play,this.playButtonDimensions.width,this.playButtonDimensions.height);this.playButton=j.addCenterButton(h);this.nativeAdInfo.cssHelper.setStyle(this.playButton.style,"min-width","0px","important");
this.nativeAdInfo.cssHelper.setStyle(this.playButton.style,"min-height","0px","important");this.nativeAdInfo.cssHelper.move2FrontStackingContext(this.playButton,this.nativeAdInfo.ad.adDIV);g(i);};var a;f.prototype.assets={clickthrough:"//images.3lift.com/3127258.png",close:"//images.3lift.com/3127259.png",facebook:"//images.3lift.com/3127260.png",pinterest:"//images.3lift.com/3127261.png",play:"//ib.3lift.com/static/buttons/play.svg",share:"//images.3lift.com/3127263.png",tumblr:"//images.3lift.com/3127264.png",twitter:"//images.3lift.com/3127265.png",safeGradient:"//img.3lift.com/?width=200&height=100&url=http%3A%2F%2Fimages.3lift.com%2F3129001.png",xbutton:"//images.3lift.com/3129012.png",seemore:a||"//images.3lift.com/3129101.png",whitePlayButton:"//images.3lift.com/3129104.png"};
f.prototype.putPlayerOnDOM=function(){if(this.playerOnDOM){return;}this.playerOnDOM=true;var g=this.wrappedPlayerInfo;var h=g.wrappedPlayer;var i=this.hook;i.appendChild(h);this.positionWrappedPlayer(h);this.wrappedPlayer=h;};f.prototype.positionWrappedPlayer=function(j){var h=this.nativeAdInfo.ad;var l=h.getMainImageOffset();var g=h.getMainImageDimensions();var i=l.top;var k=l.left;if(this.clientSideRenderUnit){j.style.left=-k+"px";j.style.top=(-i-g.height)+"px";}else{j.style.left=k+"px";j.style.top=(i-g.height)+"px";
}};f.prototype.loadVideo=function(h,g){this.putPlayerOnDOM();this.callExternalAPI("initPlayer")(function(){g(h);});};f.prototype.setTrigger=function(o,i,g){var j=this;var k="click";var h=false;j.hideSumome();var m=this.errorDecorator.decorate(function(p){if(h){return;}h=true;var q=function(){var r=j.wrappedPlayerInfo.wrappedPlayer;r.style.left="0px";r.style.top="0px";j.hook.style.removeProperty("z-index");j.nativeAdInfo.cssHelper.move2FrontStackingContext(r,j.nativeAdInfo.ad.adDIV);if(j.config.playerSettings.displayMethod===b){j.nativeAdInfo.cssHelper.fadeIn(r,j.fadeTimeMS);
}j.callExternalAPI("playVideo")();g(i);};j.loadVideo(i,q);});if(this.config.useProgressBar){var l=new this.nativeAdInfo.modules.ProgressBar(this.nativeAdInfo.ad.getMainImage());l.setProgressBar();var n=new this.nativeAdInfo.modules.ProgressBarController(l,m);n.monitor(2000);}else{this.setDOMEvent(this.playButton,k,m,true);this.clearDOMEvents(this.ad.getMainImage());this.ad.setMainImageHandler(k,m,true);}};f.prototype.setTriggerHandler=function(h,g){if(this.config.triggerAction===e){this.setTrigger(e,h,g);
}else{this.setTrigger(d,h,g);}};f.prototype.setToggling=function(l,g){var h=false;var j=this;this.toggleOff=function(){j.setHookZIndex(j.hook);j.callExternalAPI("pauseVideo")();if(j.config.playerSettings.displayMethod===b&&!h){h=true;j.nativeAdInfo.cssHelper.fadeOut(j.wrappedPlayer,j.fadeTimeMS,k);}};this.toggleOn=function(){j.hook.style.removeProperty("z-index");j.callExternalAPI("playVideo")();if(j.config.playerSettings.displayMethod===b&&!h){h=true;j.wrappedPlayer.style.left="0px";j.wrappedPlayer.style.top="0px";
j.nativeAdInfo.cssHelper.fadeIn(j.wrappedPlayer,j.fadeTimeMS,i);}};function k(){m();i();}function m(){j.wrappedPlayer.style.display="none";}function i(){h=false;}g(l);};f.prototype.preventDefaultClickThrough=function(){var g=this.nativeAdInfo.ad.getClickThroughAnchor();if(g){g.removeAttribute("href");g.removeAttribute("target");g.style.cursor="pointer";}};window._tlModuleLoader.onReady(c,f);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/VideoController.js");(function(b){var a=function(c){this.videoController=c;this.nativeAdInfo=c.nativeAdInfo;this.document=c.nativeAdInfo.docInfo.document;this.window=c.nativeAdInfo.docInfo.window;};a.prototype.appendPlayerIFRAME=function(){var d=this.videoController.hook;var c=this.document.createElement("IFRAME");c.src=this.videoController.creative.params.url;c.style.width=d.style.width;c.style.height=d.style.height;c.style.border="none";c.style.background="white";this.playerFrame=c;this.videoController.wrappedPlayerInfo.wrappedPlayer.appendChild(c);
this.videoController.putPlayerOnDOM();};a.prototype.playVideo=function(){this.nativeAdInfo.analytics.play();this.playerFrame.contentWindow.postMessage(JSON.stringify({command:"play"}),"*");};a.prototype.initPlayer=function(c){c();};a.prototype.load=function(d,c){this.appendPlayerIFRAME();c(d);};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/SimpleVideoIFRAME.js");(function(a){var b=function(e,d){this.errorDecorator=d.errorDecorator||{decorate:function(f){return f;}};this.placementDetails=d.modules.placementDetails;this.auctionIFRAME=e;this.oldWriter=e.contentWindow.document.write;this.document=e.contentWindow.document;this.window=e.contentWindow;};b.prototype.setWriter=function(e){var d=this;this.document.write=this.errorDecorator.decorate(function(f){d.newWriter(f);});};var c=function(e){var d=/cas.+criteo/;if(e.match(d)){return true;}return false;};b.prototype.doCriteo=function(e){e=e.split("src=")[1];
var d=e.split('"')[1];this.loadCriteo(d);this.fireCriteoDebug(d);this.document.write=this.oldWriter;};b.prototype.loadCriteo=function(d){var f="//"+this.placementDetails.criteoProxyHost+"/criteo_proxy?url="+encodeURIComponent(d)+"&tlcb="+Math.round(Math.random()*1000000);var e=this.document.createElement("SCRIPT");this.document.body.appendChild(e);e.src=f;};b.prototype.fireCriteoDebug=function(d){var e=this.placementDetails.invCode;var f=this.document.createElement("IMG");f.src="//"+this.placementDetails.engagementBusAddr+"/dyn?long2=60001&long1=1&string1="+e+"&string2="+(encodeURIComponent(d.slice(0,64)))+"&string3="+encodeURIComponent(d.slice(64,128))+"&cb="+Math.round(Math.random()*1000000);
this.document.body.appendChild(f);};b.prototype.newWriter=function(m){if(c(m)){return this.doCriteo(m);}if(m.match('"creative_partner": "centro"')){var h=this.document.createElement("iframe");h.src="about:blank";h.className="tl_centro_iframe";this.document.body.appendChild(h);h.contentWindow.document.write(m);return;}if(m.match('"creative_partner": "doubleclick_bid_manager_console"')&&Math.floor((Math.random()*100))==1){var g=document.createElement("img");g.width=0;g.height=0;g.src="//eb.3lift.com/dyn?string1="+encodeURIComponent(m);
document.body.appendChild(g);}var l=this.document.createElement("div");l.style.display="none";this.document.body.appendChild(l);l.innerHTML=m;var j=l.getElementsByTagName("script");for(var f=0;f<j.length;f++){var e=this.parseURI(j[f].src).queryKey;var i=this.parseURI(j[f].src).host;if(i=="ad.turn.com"&&e.cid){var k=e.cid;var h=this.document.createElement("iframe");h.src="about:blank";h.className="tl_ext_iframe";h.setAttribute("data-ext-creative-id",k);this.document.body.appendChild(h);h.contentWindow.document.write('<script type="text/javascript" src="'+j[f].src+'"><\/script>');
}}};b.prototype.onmessage=function(d){if(!d||!d.data||!d.data.match){var k=this.placementDetails.invCode,g=this.randInt(10000),h=JSON.stringify(d),i,j;if(h){i=encodeURIComponent(h.slice(0,64));j=encodeURIComponent(h.slice(64,128));}else{i="eventStringUndefined";}var e=this.document.createElement("IMG");e.src="//"+this.placementDetails.engagementBusAddr+"/dyn?long2=60002&string1="+k+"&string2="+i+"&string3="+j+"&cb="+g;this.document.body.appendChild(e);return;}if(d.data.match("get_3p")||d.data.match("get_ext")||d.data.match("get_unit")||d.data.match("dynamicCreativeRender")||d.data.match("serveDefault")){if(this.thirdPartyMessage){return;
}this.thirdPartyMessage=true;var f=d.data;var l=this.document.createElement("SCRIPT");l.textContent=f;this.document.body.appendChild(l);this.document.write=this.oldWriter;}};b.prototype.setListeners=function(){this.setWriter();var d=this;var e=this.errorDecorator.decorate(function(f){d.onmessage(f);});if(this.window.addEventListener){this.window.addEventListener("message",e);}else{this.window.attachEvent("onmessage",e);}};window._tlModuleLoader.onReady(a,b);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/FrameOverrideWriter.js");(function(l){var s={};var r=function(v){try{var u=v.params.share_types;if(!u){return null;}else{if(!u.forEach){return u.split(",");}else{return u;}}}catch(w){return false;}};var p=70;var j=34;var i=50;var g=25;var n=40;var f=20;var m={};m.code={};m.code.pinterest=function(u){return function(v){u.analytics.share("pinterest");window.open("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(u.creative.originalClickThroughURL)+"&media="+encodeURIComponent(u.creative.w600URL)+"&description="+encodeURIComponent(u.creative.caption),"popup","width=650,height=316");
};};m.code.twitter=function(u){return function(v){u.analytics.share("twitter");window.open("https://twitter.com/home?status="+encodeURIComponent(u.creative.caption),"popup","width=650,height=316");};};m.code.tumblr=function(u){return function(v){u.analytics.share("tumblr");window.open("https://tumblr.com/share/photo?source="+encodeURIComponent("http:"+u.creative.params.image_url)+"&caption="+encodeURIComponent(u.creative.caption),"popup","width=650,height=316");};};m.code.facebook=function(u){return function(v){u.analytics.share("facebook");
window.open("https://www.facebook.com/sharer.php?u="+encodeURIComponent(u.creative.originalClickThroughURL),"popup","width=626,height=436");};};var a=m.large={};a.tumblr="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917934.png&width="+p;a.twitter="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917933.png&width="+p;a.facebook="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917935.png&width="+p;a.pinterest="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917936.png&width="+p;
var b=m.medium={};b.tumblr="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917934.png&width="+i;b.twitter="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917933.png&width="+i;b.facebook="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917935.png&width="+i;b.pinterest="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917936.png&width="+i;var e=m.small={};e.tumblr="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917934.png&width="+n;e.twitter="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917933.png&width="+n;
e.facebook="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917935.png&width="+n;e.pinterest="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F2917936.png&width="+n;var o=function(v,x){var u=x.ad.getMainImageDimensions();var w=u.width*u.height;if(w<122500){return[m.small[v],n,f];}if(w<250000){return[m.medium[v],i,g];}return[m.large[v],p,j];};var d=function(x,I,D,v){var H=x.modules.placementDetails;var z=H.sharingEnabled;var C=x.ad.getMainImageDimensions();if(!z||C.width<125){return;}var A=x.modules.Button;
var w=I||x.buttonManager;var E=x.buttonManager;x.buttonManager=w;var u=r(x.creative);if(!u){return;}var F=[];var y={};u.forEach(function(J){var K=o(J,x);y[K[0]]=m.code[J];F.push(new A(K[0],K[1],K[2]));});var G=x.buttonManager.getFreeCorner();var B;if(!G){return;}B=w.addButtonGroup(F,G);t(x,B,D,v);c(B,x.cssHelper,w);k.call(this,B,x);q.call(this,B,x,y);x.buttonManager=E;return B;};var t=function(x,v,w,u){v.forEach(function(A){var z=x.cssHelper.parsePixInt(A.style.top,10);z-=u;var y=x.cssHelper.parsePixInt(A.style.left,10);
y-=w;x.cssHelper.setStyle(A.style,"top",z+"px","important");x.cssHelper.setStyle(A.style,"left",y+"px","important");});};var c=function(u,w,v){u.forEach(function(x){w.setStyle(x.style,"cursor","pointer","important");w.setStyle(x.style,"outline","none","important");w.move2FrontStackingContext(x,v.block.parentNode);});};var k=function(u,v){u.forEach(function(w){w.style.display="none";v.buttonManager.showOnHover(w);});};var q=function(v,x,u){var w=this;v.forEach(function(z){var y=h(u,z.src)(x);w.setDOMEvent(z,"click",y,true);
});};var h=function(u,v){for(src in u){if(u.hasOwnProperty(src)){if(v.indexOf(src)>-1){return u[src];}}}};s.addShareButtons=d;window._tlModuleLoader.onReady(l,s);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/addShareButtons.js");(function(b){var a=function(c){this.utils=c;};a.prototype.getDebugInfo=function(h){var k;try{top.document;k=h.top;}catch(j){k=h;}var i=k.document;if((i.URL.search("tripleliftTest=true")>0)||(i.referrer.search("tripleliftTest=true")>0)){var d=i.URL.search("tripleliftTest=true")>0?i.URL:i.referrer;var g=this.utils.parseURI(d);var f=g.queryKey;try{this.debugFlag=true;var l=console;}catch(j){this.debugFlag=false;}if(f.tl_image_id){this.tlImageId=f.tl_image_id;}if(f.tlBidParams){this.tlBidParams=decodeURIComponent(f.tlBidParams);
}if(f.tlBidUrl){this.tlBidUrl=decodeURIComponent(f.tlBidUrl);}if(f.tl_css_resize){this.tlCssResize=true;}if(f.tl_scu_id){this.tl_scu_id=f.tl_scu_id;}if(f.direct){this.direct=true;}}};a.prototype.debugMessage=function(c){if(this.debugFlag){console.warn("tl: "+c);}};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/DebugMessenger.js");(function(b){function a(){var C={getItem:function(D){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(D).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;},setItem:function(G,J,F,E,D,H){if(!G||/^(?:expires|max\-age|path|domain|secure)$/i.test(G)){return false;}var I="";if(F){switch(F.constructor){case Number:I=F===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+F;break;case String:I="; expires="+F;break;case Date:I="; expires="+F.toUTCString();
break;}}document.cookie=encodeURIComponent(G)+"="+encodeURIComponent(J)+I+(D?"; domain="+D:"")+(E?"; path="+E:"")+(H?"; secure":"");return true;},removeItem:function(F,E,D){if(!F||!this.hasItem(F)){return false;}document.cookie=encodeURIComponent(F)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(D?"; domain="+D:"")+(E?"; path="+E:"");return true;},hasItem:function(D){return(new RegExp("(?:^|;\\s*)"+encodeURIComponent(D).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie);},keys:function(){var D=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);
for(var E=0;E<D.length;E++){D[E]=decodeURIComponent(D[E]);}return D;}};function v(H){var G=v.options,D=G.parser[G.strictMode?"strict":"loose"].exec(H),F={},E=14;while(E--){F[G.key[E]]=D[E]||"";}F[G.q.name]={};F[G.key[12]].replace(G.q.parser,function(J,I,K){if(I){F[G.q.name][I]=K;}});return F;}v.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
function r(){var D=[].slice.apply(arguments);return n(D,E);function E(I,H){if(!I&&!H){return{};}if(!I){return H;}if(!H){return I;}var F;var G={};for(F in H){G[F]=H[F];}for(F in I){G[F]=I[F];}return G;}}function x(G,E){if(!G){return false;}var F=G.length;var D=0;for(;D<F;D++){E(G[D]);}return true;}function j(E,D){if(!E){return false;}var F;for(F in E){if(E.hasOwnProperty(F)){D(F,E[F]);}}return true;}function B(G,F){if(!G){return false;}var D=[];for(var E=0;E<G.length;E++){D[E]=F(G[E]);}return D;}function c(F,E){for(var D in F){if(F.hasOwnProperty(D)){E(D,F[D]);
}}}function m(G,F){if(!G){return false;}var D=[];for(var E=0;E<G.length;E++){if(!!F(G[E])){D.push(G[E]);}}return D;}function n(G,E,D){if(!G){return false;}var F=G.slice();return e(F,E,D);}function e(G,F,D){if(G.length===0){return D;}var D=D||G.shift();var E=G.shift();return n(G,F,F(D,E));}function q(F,E){if(!F){return false;}for(var D=0;D<F.length;D++){if(!!E(F[D])){return F[D];}}return false;}function A(E){var D={};j(E,function(G,F){if(F!==null&&F!==void 0){D[G]=F;}});return D;}function p(F,E){var D={};
j(F,function(H,G){if(E.indexOf(H)===-1){D[H]=G;}});return D;}function i(E){var F=[];for(var D in E){if(E.hasOwnProperty(D)){F.push(D+"="+E[D]);}}return F.join("&");}function d(D){return Math.floor((D+1)*Math.random());}function t(E){if(E<1){return NaN;}if(E===1){return Math.floor(Math.random()*10);}var D=Math.pow(10,E-1);return Math.floor(Math.random()*9*D)+D;}function o(D,E){return D.indexOf(E)!==-1;}function y(D){var E=v(D);return"//"+E.host+E.relative;}function s(){var D=[].slice.apply(arguments);
return function(){for(var E=0;E<D.length;E++){D[E]();}};}function z(E){var D=false;return function(){!D&&E();D=true;};}function w(D,F){var E=0;return function(){++E===D&&F();};}function h(F,D){var E=0;return function(){var G=Date.now();if((G-E)>D){E=G;F.apply(null,arguments);}};}function f(){var G=new Date();var D=G.getDate();var F=G.getMonth()+1;var E=G.getFullYear();if(D<10){D="0"+D;}if(F<10){F="0"+F;}return E+"-"+F+"-"+D;}function u(H){if(H<0){return NaN;}var D,F,I,E,G=H;D=Math.floor(G/3600000);
G=G-(D*3600000);F=Math.floor(G/60000);G=G-(F*60000);I=Math.floor(G/1000);E=G-(I*1000);D=(D<10)?"0"+D:D;F=(F<10)?"0"+F:F;I=(I<10)?"0"+I:I;E=(E<10)?"00"+E:(E<100)?"0"+E:E;return D+":"+F+":"+I+"."+E;}function l(D){return Object.prototype.toString.call(D)==="[object Array]";}function k(D){while(D.lastChild){D.removeChild(D.lastChild);}}function g(){}return{doAll:s,doOnce:z,filter:m,find:q,forEach:x,forEachObj:j,getDateString:f,inheritProtocol:y,isArray:l,isMatch:o,map:B,msToTime:u,noop:g,objMap:c,objMerge:r,parseURI:v,randDigits:t,randInt:d,reduce:n,removeKeys:p,removeNullAndUndefined:A,removeAllChildren:k,stringifyParamsObj:i,throttle:h,waitFor:w};
}window._tlModuleLoader.onReady(b,a());})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/util.js");(function(b){var a=function(d,e){this.nativeAdInfo=d;this.nativeAdCont=e;this.dummyImageOnLoad=d.errorDecorator?d.errorDecorator.decorate(c):c;this.csrDisplay=d.modules.placementDetails.customOptions.csrDisplay;this.dummyImage=d.docInfo.document.createElement("IMG");};a.prototype.doCSR=function(d){var g=this.dummyImage,e=parseInt(this.nativeAdInfo.modules.placementDetails.imageWidth,10),f=parseInt(this.nativeAdInfo.modules.placementDetails.imageHeight,10);g.className=d.className;this.transferStyles(g,d);
g.src="//img.3lift.com/?url=http%3A%2F%2Fimages.3lift.com%2F3277035.png&width="+e+"&height="+f;g.style.opacity=0;d.parentNode.insertBefore(g,d);d.parentNode.removeChild(d);g.onload=c.bind(this,d);};a.prototype.transferStyles=function(h,g){var f=g.style,e=0,d;while(f[e]){d=f[e];h.style[d]=f[d];e++;}};function c(f){if(this.calledOnLoad){return;}this.calledOnLoad=true;var i=this.d=this.nativeAdInfo.docInfo.document.createElement("DIV");i.style.background="url("+f.src+")";i.className="tl-csr";var h=this.nativeAdInfo.cssHelper;
var g=h.getRealStyle(this.dummyImage);this.transferDummyImageStyle(i,g,h);this.setBackgroundImg(i);this.dummyImage.style.setProperty("display","none","important");this.dummyImage.parentNode.insertBefore(i,this.dummyImage);this.nativeAdInfo.ad.regsiterMainAdImage(i);this.nativeAdCont(this.nativeAdInfo);this.setDynamicLogo();setTimeout(this.setDynamicLogo.bind(this),0);var e=this.updateDummyImage.bind(this);this.scheduleUpdate(e);}a.prototype.scheduleUpdate=function(d){var h=this.nativeAdInfo.docInfo.topWindow,g=this.nativeAdInfo.docInfo.topDocument;
if(h.matchMedia&&g.styleSheets){var e=this.nativeAdInfo.cssHelper.getMediaEventListener(h,g);e(f);}else{setInterval(d,1000);}function f(){d();setTimeout(d,0);}setTimeout(d,0);setTimeout(d,2000);};a.prototype.transferDummyImageStyle=function(g,e,f){var d=(e.position===""||e.position==="static");g.style.position=d?"relative":e.position;g.style.padding=f.padding(e);g.style["float"]=f.getFloat(e);g.style.margin=f.margin(e);g.style.border=f.border(e);if(this.csrDisplay){g.style.display=this.csrDisplay;
}};a.prototype.updateDummyImage=function(){var e=this.nativeAdInfo.cssHelper;this.dummyImage.style.display="";var d=e.getRealStyle(this.dummyImage);if(d.width!=this.d.style.width||d.height!=this.d.style.height){this.d.style.width=d.width;this.d.style.height=d.height;if(this.nativeAdInfo.resetButtons){this.nativeAdInfo.resetButtons();this.setDynamicLogo();}}this.transferDummyImageStyle(this.d,d,e);if(d.zIndex){e.safeSetZindex(d.zIndex,this.d);}this.setBackgroundImg(this.d);this.dummyImage.style.setProperty("display","none","important");
};a.prototype.setBackgroundImg=function(i){var h=this.nativeAdInfo.creative.params.focal_box;if(h){var e=this.dummyImage.width,g=this.dummyImage.height,f=this.nativeAdInfo.creative.params.image_width,d=this.nativeAdInfo.creative.params.image_height;this.zoomBackground(i,e,g,f,d,h);}else{this.boxBackground(i);}};a.prototype.boxBackground=function(d){d.style["background-position"]="center";if(this.nativeAdInfo.multi.length>1){d.style["background-size"]="cover";}else{d.style["background-size"]="contain";
d.style["background-repeat"]="no-repeat";}d.style["text-align"]="left";};a.prototype.zoomBackground=function(e,f,q,l,m,g){if(f===this.prevAdWidth&&q===this.prevAdHeight){return;}this.prevAdWidth=f;this.prevAdHeight=q;var o=g.x2-g.x1;var p=g.y2-g.y1;var n=this.getScaleFactor(f,q,l,m,o,p);var k=Math.ceil(n*l);var j=Math.ceil(n*m);var d={};this.forEachObj(g,function(r,s){d[r]=Math.floor(n*s);});var i=this.getImgOffset(f,k,d.x1,d.x2);var h=this.getImgOffset(q,j,d.y1,d.y2);e.style["background-repeat"]="no-repeat";
e.style["background-size"]=k+"px";e.style["background-position"]=i+"px "+h+"px";};a.prototype.getScaleFactor=function(e,h,g,d,i,f){var j=Math.max(e/g,h/d);var k=Math.min(e/i,h/f);return Math.min(j,k);};a.prototype.getImgOffset=function(e,h,d,g){if(e>h){return Math.round((e-h)/2);}var f=Math.round((e-d-g)/2);if(f>0){return 0;}else{if(f+h<e){return e-h;}else{return f;}}};a.prototype.setDynamicLogo=function(){var e=this.nativeAdInfo.creative,k=e.params.logo_image_url,i=this.nativeAdInfo.modules.placementDetails;
if(k&&e.areCornersAvailable(i.logoBlackList)){var d=this.nativeAdInfo.docInfo.document.createElement("IMG"),j=this.nativeAdInfo.cssHelper,g=this.d,h=this;function f(){h.removeLogo();h.logoEl=this;var r=j.getRealStyle(g),o=parseInt(r.width),m=parseInt(r.height),q=this.width/this.height;var s=0.3;var n=o*s;var l=n*(1/q);if((n/o)<(l/m)){var l=m*s;var n=l*q;}j.setStyle(this.style,"position","absolute","important");j.setStyle(this.style,"width",n+"px","important");j.setStyle(this.style,"max-width",n+"px","important");
j.setStyle(this.style,"height",l+"px","important");j.setStyle(this.style,"max-height",l+"px","important");j.setStyle(this.style,"top","10px","important");var p=i.logoBlackList.indexOf("NW")===-1?"left":"right";j.setStyle(this.style,p,"10px","important");g.appendChild(this);}d.onload=f;d.src=k;}};a.prototype.removeLogo=function(){if(this.logoEl&&this.logoEl.parentElement){this.logoEl.parentElement.removeChild(this.logoEl);}};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/CSR.js");(function(b){var a=function(c,e,g,d){this.document=c.document;this.engagementBusAddr=g;this.hook=d;this.impID=f(e);function f(i){var j=Math.round((new Date()).getTime()/1000);var h=Math.round(Math.random()*1000000000);return[j,h,i].join("_");}};a.prototype.fireEB=function(e,f,c){f.impid=this.impID;var d=this.makeSrc(this.engagementBusAddr,e,f);this.fire(d,c);};a.prototype.fire=function(e,c){if(!e){return;}var d=this.document.createElement("IMG");if(typeof c==="function"){d.onload=c;}d.src=e;};a.prototype.fireJS=function(d){if(!d){return;
}var c=document.createElement("SCRIPT");c.setAttribute("type","text/javascript");c.src=d;this.hook.parentElement.insertBefore(c,this.hook);};a.prototype.makeSrc=function(e,h,j,c,g){var d=this.removeNullAndUndefined(j);if(c!==false){d.cb=this.randInt(100000);}var i=this.stringifyParamsObj(d);var f=e.replace(/\/$/,"");g=g||"?";return"//"+f+"/"+h+g+i;};a.prototype.fireDyn=function(i,e,d,c,j,h){h=h||this.impID;var g={long1:i,long2:e,long3:d,string1:c,string2:j,string3:h};var f=this.makeSrc(this.engagementBusAddr,"dyn",g);
this.fire(f);};window._tlModuleLoader.onReady(b,a);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/FirePix.js");(function(a){var c=function(l,h){this.nativeAdInfo=l;this.continueAd=h;this.document=l.docInfo.document;this.window=l.docInfo.window;this.analytics=l.analytics;var i=l.modules.placementDetails.customOptions.viewabilityEnabled;var k=l.modules.placementDetails.customOptions.viewabilitySamplingRate;if(i&&k){var j=1-k;if(j>=0.67){if(!l.browserInfo.isSafari){this.vbasEnabled=false;}else{this.vbasEnabled=Math.random()>(j-0.67)/0.33;}}else{if(!l.browserInfo.isSafari){this.vbasEnabled=Math.random()<(k-0.33)/0.67;
}else{this.vbasEnabled=true;}}if(this.vbasEnabled){this.vbasElement=this.getVbasElement(l.hook);}}else{this.vbasEnabled=false;}};c.prototype.getVbasElement=function(j){var i=this.nativeAdInfo.modules.placementDetails.customOptions.vbasSelector,h;if(i){h=this.getVbasElementBySelector(i);}if(!h){h=this.getVbasElementByDefault(j);}return h;};c.prototype.getVbasElementBySelector=function(j){var k=j.slice(0,1),i=j.slice(1),h;if(k==="."){h=document.getElementsByClassName(i)[0];}else{if(k==="#"){h=document.getElementById(i);
}}if(!h){var m='element matching vbasSelector "'+j+'" not found';var l="getVbasElementBySelector";this.nativeAdInfo.errorDecorator.fireError(m,l);}return h;};c.prototype.getVbasElementByDefault=function(i){var h=i;while(!h.offsetTop&&(h.previousElementSibling||h.parentElement)){h=h.previousElementSibling||h.parentElement;}return h;};c.prototype.start=function(){if(this.vbasEnabled){this.analytics.viewabilityStart();this.listenForNearView(this.vbasElement,this.continueAd);}else{this.continueAd();}};
c.prototype.couldBeViewed=function(j){var l=this.nativeAdInfo.docInfo.topWindow;var n=l.pageYOffset;var k=n+g(l);var m=e(j);var h=m.top;var i=h+j.offsetHeight;return d(h,i,n,k);};var e=function(h){var i={};i.top=0;i.left=0;while(h){if(h.offsetTop){i.top+=h.offsetTop;}if(h.offsetLeft){i.left+=h.offsetLeft;}h=h.offsetParent;}return i;};var b=c.prototype.getPct=function(p,o,n,m){if(p>o||n>m){return false;}var h=o-p;var l=m-n;if(l===0){return 0;}if(h===0){return(p>n&&p<m)?1:0;}var k=p<n?n:p;var i=o>m?m:o;
var j=i-k;return j/h;};var d=function(j,k,o,n){var l;var m;if((j<n)&&(k>o)){l=true;}else{l=false;}if(l){m=b(j,k,o,n);}else{m=0;}var i=200;var h=j<=(n+i);return{inView:l,closeToView:h,pct:m};};var g=function(h){if(h.innerHeight===undefined){return h.document.documentElement.clientHeight;}return h.innerHeight;};c.prototype.listenForNearView=function(j,h){var l=this.nativeAdInfo.cssHelper,i=l.getRealStyle.bind(l),k=this;m();function m(){var n=k.couldBeViewed(j);if(n.closeToView&&i(j).display!=="none"){if(h){h();
}return;}setTimeout(m,300);}};c.prototype.listenForInView=function(p,k,o,j){o=o||this.getPct(p);j=j||1000;var i=100;var m=this;var n=function(){if(k){k();}};var h=function(){var q=this;setTimeout(function(){q.run();},i);};var l=function(){var q=m.couldBeViewed(p);if(q.inView&&q.pct>=o&&this.duration&&this.duration>=j){this.onSuccess();}else{if(q.inView&&q.pct>=o){this.duration=(this.duration||0)+i;this.onFail();}else{this.duration=0;this.onFail();}}};new f(l,n,h).run();};c.prototype.getPct=function(k){var i=k.clientWidth;
var h=k.clientHeight;var j=i*h;if(j>=242500){return 0.3;}else{return 0.5;}};c.prototype.isInView=function(j,p){p=p||1;var q=j.clientHeight,i=j.clientWidth,k=window.innerHeight||document.documentElement.clientHeight,m=window.innerWidth||document.documentElement.clientWidth;rect=j.getBoundingClientRect();var h=q*i;var l=q+Math.min(0,rect.top)+Math.min(0,k-rect.bottom);var o=i+Math.min(0,rect.left)+Math.min(0,m-rect.right);var n=l*o;return(n/h)>=p;};var f=function(h,i,j){this.onSuccess=i;this.onFail=j;
this.run=function(){h.call(this);};};window._tlModuleLoader.onReady(a,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ViewabilityController.js");(function(b){var a=["NW","NE","SW","SE"];var c=function(d){this.nativeAdInfo=d;this.document=d.docInfo.document;this.cssHelper=d.cssHelper;this.ad=d.ad.getAd();this.impediments={};this.buttons;this.corners={NW:[],NE:[],SW:[],SE:[]};};c.prototype.clearButtons=function(){this.iterateButtons(function(d){d.el.parentNode.removeChild(d.el);});this.corners={NW:[],NE:[],SW:[],SE:[]};};c.prototype.registerBlock=function(d){this.block=d;};c.prototype.FIXED_OFFSET=10;c.prototype.BUTTON_SPACING=5;c.prototype.addImpediment=function(d){this.impediments[d]=true;
};c.prototype.isCorner=function(d){return a.indexOf(d)>=0;};c.prototype.getFreeCorner=function(){var f;var e=this;var d=function(g){if(!e.impediments[g]&&!e.corners[g].length){f=g;}};a.forEach(d);return f;};c.prototype.setStyleDimensions=function(d){var e=d.width;if(e.match&&e.match("%")){d.styleWidth=d.width;d.width=Math.round((parseInt(e,10)/100)*this.block.offsetWidth);}else{d.styleWidth=d.width+"px";d.styleHeight=d.height+"px";}};c.prototype.getCornerOffset=function(j,f){var g=this;g.setStyleDimensions(f);
var i=f.width;var e=f.isAdChoices?0:g.FIXED_OFFSET;var k;var d,l;if(g.block.tagName==="DIV"){d=0;l=0;}else{d=g.block.offsetTop;l=g.block.offsetLeft;}if(j.match("E")){k=g.block.offsetWidth+l-(e+i);g.corners[j].forEach(function(m){k-=(m.width+g.BUTTON_SPACING);});}else{k=e+l;g.corners[j].forEach(function(m){k+=(m.width+g.BUTTON_SPACING);});}var h;if(j.match("S")){h=(g.block.offsetHeight+d)-(e+f.height);}else{h=e+d;}return[k,h];};c.prototype.addCornerButton=function(d,f,e){d.offset=this.getCornerOffset(f,d);
this.corners[f].push(d);d.el=this.appendButton(d,e);return d.el;};c.prototype.setRefresh=function(f,d){if(f.offsetParent==this.block){return;}var h=this.block.offsetTop;var i=this.block.offsetLeft;var e=d.offset[1]-h;var j=d.offset[0]-i;var g=this;this.setDOMEvent(this.nativeAdInfo.ad.getMainImage(),"mouseenter",function(){var k=g.block.offsetTop;var l=g.block.offsetLeft;if((k!==h)||(l!==i)){if(g.nativeAdInfo.resetButtons){h=k;i=l;g.nativeAdInfo.resetButtons();g.displayButtons();}}});};c.prototype.appendButton=function(f,h){var e=this.document.createElement("IMG");
e.onload=h||function(){};e.src=f.src;var g=f.styleWidth;var d=f.styleHeight;this.cssHelper.setStyle(e.style,"width",g,"important");this.cssHelper.setStyle(e.style,"max-width",g,"important");this.cssHelper.setStyle(e.style,"height",d,"important");this.cssHelper.setStyle(e.style,"max-height",d,"important");this.cssHelper.setStyle(e.style,"position","absolute","important");this.cssHelper.setStyle(e.style,"top",f.offset[1]+"px","important");this.cssHelper.setStyle(e.style,"left",f.offset[0]+"px","important");
if(this.block.parentNode&&this.block.tagName==="IMG"){this.block.parentNode.insertBefore(e,this.block);}else{this.block.appendChild(e);}if(!this.refreshSet){this.refreshSet=true;this.setRefresh(e,f);}return e;};c.prototype.addButtonGroup=function(g,f){var e=this;var d=[];g.forEach(function(h){d.push(e.addCornerButton(h,f));});return d;};c.prototype.addCenterButton=function(e,f){var d=Math.round(this.block.offsetWidth/2);d-=Math.round(e.width/2);var g=Math.round(this.block.offsetHeight/2);g-=Math.round(e.height/2);
e.offset=[d,g];this.center=e;this.setStyleDimensions(e);return this.appendButton(e,f);};c.prototype.addBottomBar=function(e,d){e.width=this.block.offsetWidth;this.setStyleDimensions(e);e.offset=[0,this.block.offsetHeight-e.height-d];return this.appendButton(e);};c.prototype.displayButtons=function(){this.iterateButtons(function(d){d.el.style.display="";});};c.prototype.iterateButtons=function(d){var e;for(e in this.corners){this.corners[e].forEach(function(f){d.call(this,f);});}};c.prototype.showOnHover=function(e,g){g=g||this.ad;
this.setDOMEvent(g,"mouseenter",f);this.setDOMEvent(g,"mouseleave",d);function f(){!e.noShow&&(e.style.display="");}function d(){e.style.display="none";}};c.prototype.getButtons=function(){return{corners:this.corners,center:this.center};};window._tlModuleLoader.onReady(b,c);})("/rev/746dbbc3b2b8dd9630f061bbf212b0915b98a7cd/ButtonManager.js");